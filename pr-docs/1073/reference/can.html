<!DOCTYPE html>
<!-- Some pieces of this template were used from https://github.com/Rapptz/discord.py/blob/master/docs/_templates/layout.html -->
<html>
    <head>
        <!-- HTML meta -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale: 1.0">
        <title>mil_usb_to_can - USB to CAN Communication</title>
        <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
        <link rel="stylesheet" href="../_static/codeblocks.css" type="text/css" />
        <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
        <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../searchindex.js" defer></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/custom.js"></script>
        <script src="../_static/sidebar.js"></script>
        <script src="../_static/lightdarkmode.js"></script>
        <link rel="shortcut icon" href="../_static/mil_white.svg"/>
        <link rel="index" title="Index" href="../genindex.html" />
        <link rel="search" title="Search" href="../search.html" />
        <link rel="next" title="Computer Vision" href="vision.html" />
        <link rel="prev" title="mil_passive_sonar - Passive Sonar" href="passivesonar.html" />
    </head>
    <body>
        <div class="main-grid">
            <header class="grid-item">
                <nav>
                    <a class="main-heading" href="../index.html">Machine Intelligence Lab</a>
                    <div id="mil-light-dark-icon" onClick="rotateLightDark();">
                        <span class="material-icons" title=""></span>
                    </div>
                    <a href="https://github.com/uf-mil/mil" target="_blank"><img class="mil-svg" src="../_static/github.svg" /></a>
                    <a href="https://mil.ufl.edu" target="_blank"><img class="mil-svg" src="../_static/mil.svg" /></a>
                </nav>
            </header>
            <aside class="grid-item">
                <span id="hamburger-toggle">
                    <span class="material-icons">menu</span>
                </span>
                <div id="sidebar"><form id="search-form" role="search" class="search" action="../search.html" method="get">
    <div class="search-wrapper">
        <input type="search" name="q" placeholder="Search documentation" />
        <button type="submit" onmousedown="searchBarClick(event, document.getElementById('search-form'));">
            <span class="material-icons">search</span>
        </button>
    </div>
</form>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../welcome.html">Welcome to MIL!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mechanical/index.html">Mechanical</a></li>
<li class="toctree-l1"><a class="reference internal" href="../electrical/index.html">Electrical</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/index.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../subjugator/index.html">SubjuGator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../navigator/index.html">NaviGator</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Software Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="messages.html">Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="services.html">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="actions.html">Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="mathematics.html">Mathematics</a></li>
<li class="toctree-l2"><a class="reference internal" href="io.html">User Input/Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="io.html#file-input-output">File Input/Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="io.html#sanitization">Sanitization</a></li>
<li class="toctree-l2"><a class="reference internal" href="images.html">Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="serial.html">Serial</a></li>
<li class="toctree-l2"><a class="reference internal" href="msghandlers.html">Message Handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="axros/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">axros</span></code> - Independent extensions for ROS</a></li>
<li class="toctree-l2"><a class="reference internal" href="mission/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mil_missions</span></code> - Mission System</a></li>
<li class="toctree-l2"><a class="reference internal" href="rviz.html">rviz</a></li>
<li class="toctree-l2"><a class="reference internal" href="pcodar.html"><code class="docutils literal notranslate"><span class="pre">pcodar</span></code> - Point Cloud Object Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="resources.html">Resource Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="rc.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">remote_control_lib</span></code> - Remote Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="alarms.html">ROS Alarms</a></li>
<li class="toctree-l2"><a class="reference internal" href="alarmspart2.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ros_alarms</span></code> - Stateful Alarm System</a></li>
<li class="toctree-l2"><a class="reference internal" href="pathplanning.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lqrrt</span></code> - Path Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="battery.html">Battery Monitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="passivesonar.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mil_passive_sonar</span></code> - Passive Sonar</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mil_usb_to_can</span></code> - USB to CAN Communication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-mil_usb_to_can.sub8"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mil_usb_to_can.sub8</span></code> - SubjuGator 8</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#packet-format">Packet Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#checksums">Checksums</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exceptions">Exceptions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#exception-hierarchy">Exception Hierarchy</a></li>
<li class="toctree-l5"><a class="reference internal" href="#exception-list">Exception List</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#applicationpacket">ApplicationPacket</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usbtocanboard">USBtoCANBoard</a></li>
<li class="toctree-l4"><a class="reference internal" href="#candevicehandle">CANDeviceHandle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usbtocandriver">USBtoCANDriver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulatedcandevice">SimulatedCANDevice</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulatedusbtocan">SimulatedUSBtoCAN</a></li>
<li class="toctree-l4"><a class="reference internal" href="#packet">Packet</a></li>
<li class="toctree-l4"><a class="reference internal" href="#receivepacket">ReceivePacket</a></li>
<li class="toctree-l4"><a class="reference internal" href="#commandpacket">CommandPacket</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-mil_usb_to_can.sub9"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mil_usb_to_can.sub9</span></code> - SubjuGator 9</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Packet Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Checksums</a></li>
<li class="toctree-l4"><a class="reference internal" href="#packet-listing">Packet Listing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">CANDeviceHandle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simulatedcandevicehandle">SimulatedCANDeviceHandle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Packet</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nackpacket">NackPacket</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ackpacket">AckPacket</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vision.html">Computer Vision</a></li>
<li class="toctree-l2"><a class="reference internal" href="poi.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mil_poi</span></code> - POI Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="pneumatic.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mil_pneumatic_actuator</span></code> - Pneumatic Actuator Board</a></li>
<li class="toctree-l2"><a class="reference internal" href="sabertooth.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sabertooth2x12</span></code> - Sabertooth 2x12</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../subjugator/reference.html">Subjugator Software Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../navigator/reference.html">Navigator Software Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/index.html">Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../culture.html">Culture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../branding.html">Branding</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testingprocedures.html">SubjuGator Testing Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deprecated.html">Deprecated Projects</a></li>
</ul>

                </div>
            </aside>
            <main class="grid-item" role="main">
                
  <section id="module-mil_usb_to_can">
<span id="mil-usb-to-can-usb-to-can-communication"></span><h1><a class="reference internal" href="#module-mil_usb_to_can" title="mil_usb_to_can"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mil_usb_to_can</span></code></a> - USB to CAN Communication<a class="headerlink" href="#module-mil_usb_to_can" title="Permalink to this heading">¶</a></h1>
<section id="module-mil_usb_to_can.sub8">
<span id="mil-usb-to-can-sub8-subjugator-8"></span><h2><a class="reference internal" href="#module-mil_usb_to_can.sub8" title="mil_usb_to_can.sub8"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mil_usb_to_can.sub8</span></code></a> - SubjuGator 8<a class="headerlink" href="#module-mil_usb_to_can.sub8" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">mil_usb_to_can</span></code> package implements a driver and helper class for the
USB to CAN driver board. The package provides full functionality for communication
with the board, along with helper classes to provide a better, more structured use
of data being sent to and received from the board.</p>
<p>To launch the driver, start <code class="docutils literal notranslate"><span class="pre">sub8_driver.py</span></code>, an executable Python file. This file
will spin up a driver and interface to the board. If you are starting the driver
from a launch file, you can additionally provide information for the embedded
<a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANBoard" title="mil_usb_to_can.sub8.USBtoCANBoard"><code class="xref py py-class docutils literal notranslate"><span class="pre">USBtoCANBoard</span></code></a> class, which handles connecting to the board. This information
can be provided through local ROS parameters:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
<span class="w">  </span><span class="nt">&lt;node</span><span class="w"> </span><span class="na">pkg=</span><span class="s">&quot;mil_usb_to_can&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;sub8_driver.py&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;usb_to_can_driver&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;rosparam</span><span class="w"> </span><span class="na">command=</span><span class="s">&quot;delete&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;rosparam&gt;</span>
<span class="w">    </span>#<span class="w"> </span>Path<span class="w"> </span>of<span class="w"> </span>serial<span class="w"> </span>device<span class="w"> </span>(default:<span class="w"> </span>&quot;/dev/tty0&quot;)
<span class="w">    </span>port:<span class="w"> </span>/dev/serial/by-id/usb-FTDI_FT232R_USB_UART_A800GHCF-if00-port0
<span class="w">    </span>#<span class="w"> </span>Baudrate<span class="w"> </span>of<span class="w"> </span>device<span class="w"> </span>(default:<span class="w"> </span>115200)
<span class="w">    </span>baudrate:<span class="w"> </span>115200
<span class="w">    </span>#<span class="w"> </span>The<span class="w"> </span>CAN<span class="w"> </span>device<span class="w"> </span>id<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>board<span class="w"> </span>(default:<span class="w"> </span>0)
<span class="w">    </span>can_id:<span class="w"> </span>0
<span class="w">    </span>#<span class="w"> </span>List<span class="w"> </span>of<span class="w"> </span>python<span class="w"> </span>device<span class="w"> </span>handle<span class="w"> </span>classes<span class="w"> </span>(list<span class="w"> </span>of<span class="w"> </span>device<span class="w"> </span>id:<span class="w"> </span>python<span class="w"> </span>class<span class="w"> </span>implementation)
<span class="w">    </span>device_handles:
<span class="w">      </span>&quot;18&quot;:<span class="w"> </span>sub8_thrust_and_kill_board.ThrusterAndKillBoard
<span class="w">      </span>&quot;83&quot;:<span class="w"> </span>sub8_actuator_board.ActuatorBoard
<span class="w">    </span>simulated_devices:
<span class="w">      </span>&quot;18&quot;:<span class="w"> </span>sub8_thrust_and_kill_board.ThrusterAndKillBoardSimulation
<span class="w">      </span>&quot;83&quot;:<span class="w"> </span>sub8_actuator_board.ActuatorBoardSimulation
<span class="w">    </span><span class="nt">&lt;/rosparam&gt;</span>
<span class="w">  </span><span class="nt">&lt;/node&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</div>
<p>Many of the parameters shown are used to connect the driver to the physical board.
However, the final two parameters, <code class="docutils literal notranslate"><span class="pre">device_handles</span></code> and <code class="docutils literal notranslate"><span class="pre">simulated_devices</span></code>
are used to create device handles for specific devices. These device handles can
send and receive data from the board, and many be used to do both, or one or the
other.</p>
<p>As suggested in the above XML, the package implements drivers for a physical run,
as well as a simulated run. Whether the simulated drivers are used is controlled
by the global <code class="docutils literal notranslate"><span class="pre">/is_simulation</span></code> parameter. The physical drivers implement
<a class="reference internal" href="#mil_usb_to_can.sub8.CANDeviceHandle" title="mil_usb_to_can.sub8.CANDeviceHandle"><code class="xref py py-class docutils literal notranslate"><span class="pre">CANDeviceHandle</span></code></a>, whereas the simulated drivers implement from
<a class="reference internal" href="#mil_usb_to_can.sub8.SimulatedCANDevice" title="mil_usb_to_can.sub8.SimulatedCANDevice"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimulatedCANDevice</span></code></a>. More information on writing device handles can be
found in the documentation of each type of class.</p>
<section id="packet-format">
<h3>Packet Format<a class="headerlink" href="#packet-format" title="Permalink to this heading">¶</a></h3>
<p>In order to reliably communicate with the USB to CAN board, a consistent packet format
must be defined.</p>
<p>Below is the USBtoCAN Packet Format. This packet format wraps every message being
sent over the serial connection to the USB to CAN board from ROS.</p>
<div class="table-wrapper"><table class="docutils align-default" id="id5">
<caption><span class="caption-text">USBtoCAN Packet Format</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Length</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Start flag (<code class="docutils literal notranslate"><span class="pre">0xC0</span></code>)</p></td>
<td><p>1 byte</p></td>
<td><p>Flag indicating the start of a new board message</p></td>
</tr>
<tr class="row-odd"><td><p>Payload</p></td>
<td><p>4-11 bytes</p></td>
<td><p>Actual data being transmitted. Often created through application packets.
The two following tables show the payloads of command and receiving packets.</p></td>
</tr>
<tr class="row-even"><td><p>End flag (<code class="docutils literal notranslate"><span class="pre">0xC1</span></code>)</p></td>
<td><p>1 byte</p></td>
<td><p>Flag indicating end of previous board message</p></td>
</tr>
</tbody>
</table>
</div><p>Below are the payload specifications for each type of transmission. Command packets
are packets sent out by the computer to complete an action (sending or requesting
information), whereas receiving packets are packets that listen to data coming from
other devices.</p>
<div class="table-wrapper"><table class="docutils align-default" id="id6">
<caption><span class="caption-text">Command Packet (<a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket" title="mil_usb_to_can.sub8.CommandPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">CommandPacket</span></code></a>)</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Length</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Length</p></td>
<td><p>1 byte</p></td>
<td><p>Byte indicating the length of the data being sent, or the length of the data
expected to be received, in bytes. Notably, bit 7 of this byte determines whether
the command packet is sending a command, or receiving data through a command.
If bit 7 is 1, then the command packet is receiving.</p></td>
</tr>
<tr class="row-odd"><td><p>CAN ID</p></td>
<td><p>1 byte</p></td>
<td><p>ID of the sender, or ID of who to request from</p></td>
</tr>
<tr class="row-even"><td><p>Data</p></td>
<td><p>1-8 bytes</p></td>
<td><p>For sending command packets, the actual data being sent. For requesting command
packets, an empty binary string.</p></td>
</tr>
</tbody>
</table>
</div><div class="table-wrapper"><table class="docutils align-default" id="id7">
<caption><span class="caption-text">Receiving Packet (<a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket" title="mil_usb_to_can.sub8.ReceivePacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReceivePacket</span></code></a>)</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Length</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Device ID</p></td>
<td><p>1 byte</p></td>
<td><p>The CAN ID of the device to receive data from.</p></td>
</tr>
<tr class="row-odd"><td><p>Payload length</p></td>
<td><p>1 byte</p></td>
<td><p>The amount of data to listen to.</p></td>
</tr>
<tr class="row-even"><td><p>Data</p></td>
<td><p>1-8 bytes</p></td>
<td><p>The data that was received.</p></td>
</tr>
<tr class="row-odd"><td><p>Checksum</p></td>
<td><p>1 byte</p></td>
<td><p>The checksum for the data.</p></td>
</tr>
</tbody>
</table>
</div></section>
<section id="checksums">
<h3>Checksums<a class="headerlink" href="#checksums" title="Permalink to this heading">¶</a></h3>
<p>All messages contain a checksum to help verify data integrity. However, receiving
packets also have a special byte containing a slightly modified checksum formula.</p>
<p>The checksum in all packets is found by adding up all bytes in the byte string,
including the start/end flags, and then using modulo 16 on this result.</p>
</section>
<section id="exceptions">
<h3>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this heading">¶</a></h3>
<section id="exception-hierarchy">
<h4>Exception Hierarchy<a class="headerlink" href="#exception-hierarchy" title="Permalink to this heading">¶</a></h4>
<div class="exception-hierarchy-content">
<ul class="simple">
<li><dl class="simple">
<dt><a class="reference external" href="https://docs.python.org/3.8/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code></a></dt><dd><ul>
<li><p><a class="reference internal" href="#mil_usb_to_can.sub8.ApplicationPacketWrongIdentifierException" title="mil_usb_to_can.sub8.ApplicationPacketWrongIdentifierException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ApplicationPacketWrongIdentifierException</span></code></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="#mil_usb_to_can.sub8.USB2CANException" title="mil_usb_to_can.sub8.USB2CANException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">USB2CANException</span></code></a></dt><dd><ul>
<li><p><a class="reference internal" href="#mil_usb_to_can.sub8.ChecksumException" title="mil_usb_to_can.sub8.ChecksumException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ChecksumException</span></code></a></p></li>
<li><p><a class="reference internal" href="#mil_usb_to_can.sub8.PayloadTooLargeException" title="mil_usb_to_can.sub8.PayloadTooLargeException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PayloadTooLargeException</span></code></a></p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="#mil_usb_to_can.sub8.InvalidFlagException" title="mil_usb_to_can.sub8.InvalidFlagException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">InvalidFlagException</span></code></a></dt><dd><ul>
<li><p><a class="reference internal" href="#mil_usb_to_can.sub8.InvalidStartFlagException" title="mil_usb_to_can.sub8.InvalidStartFlagException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">InvalidStartFlagException</span></code></a></p></li>
<li><p><a class="reference internal" href="#mil_usb_to_can.sub8.InvalidEndFlagException" title="mil_usb_to_can.sub8.InvalidEndFlagException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">InvalidEndFlagException</span></code></a></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</section>
<section id="exception-list">
<h4>Exception List<a class="headerlink" href="#exception-list" title="Permalink to this heading">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ApplicationPacketWrongIdentifierException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">ApplicationPacketWrongIdentifierException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">received</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/application_packet.html#ApplicationPacketWrongIdentifierException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.ApplicationPacketWrongIdentifierException" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception thrown when the identifier for a MIL application level CAN packet
had a different identifier from what was expected.</p>
<p>Inherits from <a class="reference external" href="https://docs.python.org/3.8/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ApplicationPacketWrongIdentifierException.received">
<span class="sig-name descname"><span class="pre">received</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.ApplicationPacketWrongIdentifierException.received" title="Permalink to this definition">¶</a></dt>
<dd><p>A value representing what received found.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ApplicationPacketWrongIdentifierException.expected">
<span class="sig-name descname"><span class="pre">expected</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.ApplicationPacketWrongIdentifierException.expected" title="Permalink to this definition">¶</a></dt>
<dd><p>What the found value should have been.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USB2CANException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">USB2CANException</span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#USB2CANException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.USB2CANException" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for exception in USB2CAN board functionality. Inherits from <a class="reference external" href="https://docs.python.org/3.8/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ChecksumException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">ChecksumException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calculated</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#ChecksumException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.ChecksumException" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception thrown when the checksum between motherboard and CANtoUSB board is invalid.
Inherits from <a class="reference internal" href="#mil_usb_to_can.sub8.USB2CANException" title="mil_usb_to_can.sub8.USB2CANException"><code class="xref py py-class docutils literal notranslate"><span class="pre">USB2CANException</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.PayloadTooLargeException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">PayloadTooLargeException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#PayloadTooLargeException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.PayloadTooLargeException" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception thrown when payload of data sent/received from CAN2USB is too large.
Inherits from <a class="reference internal" href="#mil_usb_to_can.sub8.USB2CANException" title="mil_usb_to_can.sub8.USB2CANException"><code class="xref py py-class docutils literal notranslate"><span class="pre">USB2CANException</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.InvalidFlagException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">InvalidFlagException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">was</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#InvalidFlagException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.InvalidFlagException" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception thrown when a constant flag in the CAN2USB protocol is invalid. Inherits
from <a class="reference internal" href="#mil_usb_to_can.sub8.USB2CANException" title="mil_usb_to_can.sub8.USB2CANException"><code class="xref py py-class docutils literal notranslate"><span class="pre">USB2CANException</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.InvalidStartFlagException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">InvalidStartFlagException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">was</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#InvalidStartFlagException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.InvalidStartFlagException" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception thrown when the SOF flag is invalid. Inherits from <a class="reference internal" href="#mil_usb_to_can.sub8.InvalidFlagException" title="mil_usb_to_can.sub8.InvalidFlagException"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvalidFlagException</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.InvalidEndFlagException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">InvalidEndFlagException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">was</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#InvalidEndFlagException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.InvalidEndFlagException" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception thrown when the EOF flag is invalid. Inherits from <a class="reference internal" href="#mil_usb_to_can.sub8.InvalidFlagException" title="mil_usb_to_can.sub8.InvalidFlagException"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvalidFlagException</span></code></a>.</p>
</dd></dl>

</section>
</section>
<section id="applicationpacket">
<h3>ApplicationPacket<a class="headerlink" href="#applicationpacket" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub8.ApplicationPacket"><div class="attribute-table-column">
<span>
Attributes</span><ul>
<li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.ApplicationPacket.identifier">identifier</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.ApplicationPacket.payload">payload</a></li></ul>
</div><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="classmethod">
cls</span><a class="reference internal" href="#mil_usb_to_can.sub8.ApplicationPacket.from_bytes">ApplicationPacket.from_bytes</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ApplicationPacket">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">ApplicationPacket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/application_packet.html#ApplicationPacket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.ApplicationPacket" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents an application-specific packet structure used by a CAN device. This
class does not implement the entire packet that will be sent over the CAN bus;
the packet only includes the identifier and payload in the packet.</p>
<p>This class should be used to generate packets to send to the board. This packet
does not handle communication with the board; this is instead handled by other
packet classes.</p>
<p>This class can be inherited from to implement packet structures for specific
applications.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SendALetterMessage</span><span class="p">(</span><span class="n">ApplicationPacket</span><span class="p">):</span>

    <span class="n">IDENTIFIER</span> <span class="o">=</span> <span class="mh">0xAA</span>
    <span class="n">STRUCT_FORMAT</span> <span class="o">=</span> <span class="s2">&quot;B&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">letter</span> <span class="o">=</span> <span class="n">letter</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">IDENTIFIER</span><span class="p">,</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">STRUCT_FORMAT</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="n">letter</span><span class="p">)))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_bytes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SendALetterMessage</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="o">*</span><span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">STRUCT_FORMAT</span><span class="p">,</span> <span class="n">data</span><span class="p">))</span>
</pre></div>
</div>
<div class="operations docutils container">
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">bytes(x)</span></span></dt>
<dd><p>Assembles the packet into a form suitable for sending through a data
stream. Packs <a class="reference internal" href="#mil_usb_to_can.sub8.ApplicationPacket.identifier" title="mil_usb_to_can.sub8.ApplicationPacket.identifier"><code class="xref py py-attr docutils literal notranslate"><span class="pre">identifier</span></code></a> and <a class="reference internal" href="#mil_usb_to_can.sub8.ApplicationPacket.payload" title="mil_usb_to_can.sub8.ApplicationPacket.payload"><code class="xref py py-attr docutils literal notranslate"><span class="pre">payload</span></code></a> into a single
<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> object.</p>
</dd></dl>

</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ApplicationPacket.identifier">
<span class="sig-name descname"><span class="pre">identifier</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.ApplicationPacket.identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>The identifier for the packet. Allowed range is between 0
and 255.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ApplicationPacket.payload">
<span class="sig-name descname"><span class="pre">payload</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.ApplicationPacket.payload" title="Permalink to this definition">¶</a></dt>
<dd><p>The payload of bytes to be sent in the packet.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ApplicationPacket.from_bytes">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/constants.html#None" title="(in Python v3.8)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">T</span></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/application_packet.html#ApplicationPacket.from_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.ApplicationPacket.from_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpacks a series of packed bytes representing an application packet using
<a class="reference external" href="https://docs.python.org/3.8/library/struct.html#struct.Struct.unpack" title="(in Python v3.8)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">struct.Struct.unpack()</span></code></a>, which produces the packet identifier and array of data.
These values are then used to produce the new instance of the class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><em>bytes</em></a>) – The packed packet.</p></li>
<li><p><strong>expected_identifier</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – The identifier that is expected to
result from the packet. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then the identifier is not verified.
If this value is passed and the identifiers do not match, then the below
error is thrown.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#mil_usb_to_can.sub8.ApplicationPacketWrongIdentifierException" title="mil_usb_to_can.sub8.ApplicationPacketWrongIdentifierException"><strong>ApplicationPacketWrongIdentifierException</strong></a> – If the <code class="docutils literal notranslate"><span class="pre">expected_identifier</span></code>
    does not match the identifier found in the packet, then this is raised.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The data represented as an application packet.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#mil_usb_to_can.sub8.ApplicationPacket" title="mil_usb_to_can.sub8.ApplicationPacket">ApplicationPacket</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="usbtocanboard">
<h3>USBtoCANBoard<a class="headerlink" href="#usbtocanboard" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub8.USBtoCANBoard"><div class="attribute-table-column">
<span>
Attributes</span><ul>
<li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANBoard.lock">lock</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANBoard.ser">ser</a></li></ul>
</div><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANBoard.read_packet">read_packet</a></li><li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANBoard.send_data">send_data</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANBoard">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">USBtoCANBoard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">baud</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">9600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulated</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/board.html#USBtoCANBoard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANBoard" title="Permalink to this definition">¶</a></dt>
<dd><p>ROS-independent wrapper which provides an interface to connect to the USB to CAN board
via a serial (or simulated serial) device. Provides thread-safe functionality.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANBoard.lock">
<span class="sig-name descname"><span class="pre">lock</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANBoard.lock" title="Permalink to this definition">¶</a></dt>
<dd><p>The thread lock.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/threading.html#threading.Lock" title="(in Python v3.8)">threading.Lock</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANBoard.ser">
<span class="sig-name descname"><span class="pre">ser</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANBoard.ser" title="Permalink to this definition">¶</a></dt>
<dd><p>The serial connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Union[<a class="reference internal" href="#mil_usb_to_can.sub8.SimulatedUSBtoCAN" title="mil_usb_to_can.sub8.SimulatedUSBtoCAN"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimulatedUSBtoCAN</span></code></a>, <a class="reference external" href="https://pyserial.readthedocs.io/en/latest/pyserial_api.html#serial.Serial" title="(in pySerial v3.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">serial.Serial</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Path to serial device, such as <code class="docutils literal notranslate"><span class="pre">/dev/ttyUSB0</span></code>.</p></li>
<li><p><strong>baud</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Baud rate of serial device to connect to. Defaults to 9600.</p></li>
<li><p><strong>simulated</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If True, use a simulated serial device rather than a real device. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANBoard.read_packet">
<span class="sig-name descname"><span class="pre">read_packet</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.8/library/typing.html#typing.Optional" title="(in Python v3.8)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket" title="mil_usb_to_can.sub8.utils.ReceivePacket"><span class="pre">ReceivePacket</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/board.html#USBtoCANBoard.read_packet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANBoard.read_packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a packet from the board, if available. Returns a <a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket" title="mil_usb_to_can.sub8.ReceivePacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReceivePacket</span></code></a>
instance if one was succefully read, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the in buffer is empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The packet, if found, otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Optional[<a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket" title="mil_usb_to_can.sub8.ReceivePacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReceivePacket</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANBoard.send_data">
<span class="sig-name descname"><span class="pre">send_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.8/library/constants.html#None" title="(in Python v3.8)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/board.html#USBtoCANBoard.send_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANBoard.send_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends data to a CAN device using the thread lock. Writes using the <code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code>
method of the <a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANBoard.ser" title="mil_usb_to_can.sub8.USBtoCANBoard.ser"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ser</span></code></a> attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device_id</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – CAN device ID to send data to.</p></li>
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><em>bytes</em></a>) – Data (represented as bytes) to send to the device.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#mil_usb_to_can.sub8.PayloadTooLargeException" title="mil_usb_to_can.sub8.PayloadTooLargeException"><strong>PayloadTooLargeException</strong></a> – The payload is larger than 8 bytes.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="candevicehandle">
<h3>CANDeviceHandle<a class="headerlink" href="#candevicehandle" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub8.CANDeviceHandle"><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub8.CANDeviceHandle.on_data">on_data</a></li><li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub8.CANDeviceHandle.send_data">send_data</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CANDeviceHandle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">CANDeviceHandle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">driver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANBoard" title="mil_usb_to_can.sub8.board.USBtoCANBoard"><span class="pre">USBtoCANBoard</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/device.html#CANDeviceHandle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.CANDeviceHandle" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class to allow developers to write handles for communication with a
particular CAN device. The two methods of the handle allow the handle to listen
to incoming data, as well as send data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ExampleEchoDeviceHandle</span><span class="p">(</span><span class="n">CANDeviceHandle</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">driver</span><span class="p">,</span> <span class="n">device_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_sent</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_new_string</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">device_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_sent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">data</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_sent</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span>
                <span class="s2">&quot;SUCCESSFULLY echoed </span><span class="si">{}</span><span class="s2"> in </span><span class="si">{}</span><span class="s2">seconds&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">last_sent</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="n">rospy</span><span class="o">.</span><span class="n">Time</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_sent</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">to_sec</span><span class="p">()</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">rospy</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.15</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">send_new_string</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">send_new_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_sent</span> <span class="o">=</span> <span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">rospy</span><span class="o">.</span><span class="n">Time</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_data</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANBoard" title="mil_usb_to_can.sub8.USBtoCANBoard"><em>USBtoCANBoard</em></a>) – Driver that is used to communicate with the board.</p></li>
<li><p><strong>device_id</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The CAN ID of the device this class will handle. Not currently used.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CANDeviceHandle.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/device.html#CANDeviceHandle.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.CANDeviceHandle.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when data is received from the device this handle is registered for.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><em>bytes</em></a>) – The data received.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CANDeviceHandle.send_data">
<span class="sig-name descname"><span class="pre">send_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/device.html#CANDeviceHandle.send_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.CANDeviceHandle.send_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends data to the device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><em>bytes</em></a>) – The data payload to send to the device.</p></li>
<li><p><strong>can_id</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The CAN device ID to send data to. Defaults to 0.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#mil_usb_to_can.sub8.PayloadTooLargeException" title="mil_usb_to_can.sub8.PayloadTooLargeException"><strong>PayloadTooLargeException</strong></a> – The payload is larger than 8 bytes.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="usbtocandriver">
<h3>USBtoCANDriver<a class="headerlink" href="#usbtocandriver" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub8.USBtoCANDriver"><div class="attribute-table-column">
<span>
Attributes</span><ul>
<li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANDriver.board">board</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANDriver.handles">handles</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANDriver.parse_module_dictionary">parse_module_dictionary</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANDriver.timer">timer</a></li></ul>
</div><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANDriver.process_in_buffer">process_in_buffer</a></li><li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANDriver.read_packet">read_packet</a></li><li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANDriver.send_data">send_data</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANDriver">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">USBtoCANDriver</span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/sub8_driver.html#USBtoCANDriver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANDriver" title="Permalink to this definition">¶</a></dt>
<dd><p>ROS Driver which implements the USB to CAN board. Allow users to specify a dictionary of
device handle classes to be loaded at runtime to handle communication with
specific devices.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANDriver.board">
<span class="sig-name descname"><span class="pre">board</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANDriver.board" title="Permalink to this definition">¶</a></dt>
<dd><p>The board the driver is implementing.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANBoard" title="mil_usb_to_can.sub8.USBtoCANBoard">USBtoCANBoard</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANDriver.handles">
<span class="sig-name descname"><span class="pre">handles</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANDriver.handles" title="Permalink to this definition">¶</a></dt>
<dd><p>The handles served by the driver. Each key represents
a unique device ID, and each corresponding value represents an instance of
a child class inheriting from <a class="reference internal" href="#mil_usb_to_can.sub8.CANDeviceHandle" title="mil_usb_to_can.sub8.CANDeviceHandle"><code class="xref py py-class docutils literal notranslate"><span class="pre">CANDeviceHandle</span></code></a>. Upon initialization,
each class is constructed after being parsed from dynamic reconfigure.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a>[<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)">int</a>, <a class="reference internal" href="#mil_usb_to_can.sub8.CANDeviceHandle" title="mil_usb_to_can.sub8.CANDeviceHandle">CANDeviceHandle</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANDriver.timer">
<span class="sig-name descname"><span class="pre">timer</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANDriver.timer" title="Permalink to this definition">¶</a></dt>
<dd><p>The timer controlling when buffers are processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>rospy.Timer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANDriver.parse_module_dictionary">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_module_dictionary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/typing.html#typing.Dict" title="(in Python v3.8)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/typing.html#typing.Any" title="(in Python v3.8)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.8/library/typing.html#typing.Generator" title="(in Python v3.8)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.8/library/typing.html#typing.Tuple" title="(in Python v3.8)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/typing.html#typing.Any" title="(in Python v3.8)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/constants.html#None" title="(in Python v3.8)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/constants.html#None" title="(in Python v3.8)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/sub8_driver.html#USBtoCANDriver.parse_module_dictionary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANDriver.parse_module_dictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator to load classes from module strings specified in a dictionary.
Imports all found classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p><em>Generator[Tuple[int, Any], None, None]</em> – Yields tuples containing the device
ID and the associated class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANDriver.process_in_buffer">
<span class="sig-name descname"><span class="pre">process_in_buffer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.8/library/constants.html#None" title="(in Python v3.8)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/sub8_driver.html#USBtoCANDriver.process_in_buffer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANDriver.process_in_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all available packets in the board’s in-buffer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANDriver.read_packet">
<span class="sig-name descname"><span class="pre">read_packet</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/sub8_driver.html#USBtoCANDriver.read_packet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANDriver.read_packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to read a packet from the board. If the packet has an appropriate device
handler, then the packet is passed to the <code class="docutils literal notranslate"><span class="pre">on_data</span></code> method of that handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The success in reading a packet.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.USBtoCANDriver.send_data">
<span class="sig-name descname"><span class="pre">send_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.8/library/typing.html#typing.Optional" title="(in Python v3.8)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.8/library/exceptions.html#Exception" title="(in Python v3.8)"><span class="pre">Exception</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/sub8_driver.html#USBtoCANDriver.send_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.USBtoCANDriver.send_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends data using the <a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANBoard.send_data" title="mil_usb_to_can.sub8.USBtoCANBoard.send_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">USBtoCANBoard.send_data()</span></code></a> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>If data was sent successfully, nothing is returned.
Otherwise, the exception that was raised in sending is returned.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Optional[<a class="reference external" href="https://docs.python.org/3.8/library/exceptions.html#Exception" title="(in Python v3.8)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="simulatedcandevice">
<h3>SimulatedCANDevice<a class="headerlink" href="#simulatedcandevice" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub8.SimulatedCANDevice"><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub8.SimulatedCANDevice.on_data">on_data</a></li><li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub8.SimulatedCANDevice.send_data">send_data</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.SimulatedCANDevice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">SimulatedCANDevice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sim_board</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#mil_usb_to_can.sub8.SimulatedUSBtoCAN" title="mil_usb_to_can.sub8.simulation.SimulatedUSBtoCAN"><span class="pre">SimulatedUSBtoCAN</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/simulation.html#SimulatedCANDevice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.SimulatedCANDevice" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates a CAN device, with functions to be overridden to handle data requests
and sends from motherboard.</p>
<p>Child classes can inherit from this class to implement a simulated CAN device.</p>
<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.SimulatedCANDevice.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/simulation.html#SimulatedCANDevice.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.SimulatedCANDevice.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when the motherboard or another simulated device sends data onto the bus.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because the CAN bus is shared, you must verify that the received data
is appropriate for your device.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><em>bytes</em></a>) – The data payload as a string/bytes object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.SimulatedCANDevice.send_data">
<span class="sig-name descname"><span class="pre">send_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/simulation.html#SimulatedCANDevice.send_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.SimulatedCANDevice.send_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Send data onto the bus, delivering it to other simulated devices and to
the driver node.</p>
</dd></dl>

</dd></dl>

</section>
<section id="simulatedusbtocan">
<h3>SimulatedUSBtoCAN<a class="headerlink" href="#simulatedusbtocan" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub8.SimulatedUSBtoCAN"><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub8.SimulatedUSBtoCAN.send_to_bus">send_to_bus</a></li><li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub8.SimulatedUSBtoCAN.write">write</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.SimulatedUSBtoCAN">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">SimulatedUSBtoCAN</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">devices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#dict" title="(in Python v3.8)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#type" title="(in Python v3.8)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#mil_usb_to_can.sub8.SimulatedCANDevice" title="mil_usb_to_can.sub8.SimulatedCANDevice"><span class="pre">SimulatedCANDevice</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/constants.html#None" title="(in Python v3.8)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/simulation.html#SimulatedUSBtoCAN"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.SimulatedUSBtoCAN" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates the USB to CAN board. Is supplied with a dictionary of simulated
CAN devices to simulate the behavior of the whole CAN network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>devices</strong> (Dict[<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, Any]) – Dictionary containing CAN IDs and
their associated simulated classes inheriting from <a class="reference internal" href="#mil_usb_to_can.sub8.SimulatedCANDevice" title="mil_usb_to_can.sub8.SimulatedCANDevice"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimulatedCANDevice</span></code></a>.</p></li>
<li><p><strong>can_id</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – ID of the CAN2USB device. Defaults to -1.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.SimulatedUSBtoCAN.send_to_bus">
<span class="sig-name descname"><span class="pre">send_to_bus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">can_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_mobo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/simulation.html#SimulatedUSBtoCAN.send_to_bus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.SimulatedUSBtoCAN.send_to_bus" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends data onto the simulated bus from a simulated device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>can_id</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – ID of sender.</p></li>
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><em>bytes</em></a>) – The payload to send.</p></li>
<li><p><strong>from_mobo</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Whether the data is from the motherboard. Defaults to
False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.SimulatedUSBtoCAN.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/simulation.html#SimulatedUSBtoCAN.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.SimulatedUSBtoCAN.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse incoming data as a command packet from the motherboard.</p>
</dd></dl>

</dd></dl>

</section>
<section id="packet">
<h3>Packet<a class="headerlink" href="#packet" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub8.Packet"><div class="attribute-table-column">
<span>
Attributes</span><ul>
<li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.Packet.EOF">EOF</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.Packet.SOF">SOF</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.Packet.payload">payload</a></li></ul>
</div><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="classmethod">
cls</span><a class="reference internal" href="#mil_usb_to_can.sub8.Packet.from_bytes">Packet.from_bytes</a></li><li class="attribute-table-entry">
<span class="attribute-table-badge" title="classmethod">
cls</span><a class="reference internal" href="#mil_usb_to_can.sub8.Packet.read_packet">Packet.read_packet</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.Packet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">Packet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#Packet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.Packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a packet to or from the CAN to USB board. This class is inherited
by <code class="xref py py-class docutils literal notranslate"><span class="pre">ReceivePacket</span></code> (for receiving data from the bus)
and <code class="xref py py-class docutils literal notranslate"><span class="pre">CommandPacket</span></code> (for sending commands). Those child
classes should be used over this class whenever possible.</p>
<div class="operations docutils container">
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">bytes(x)</span></span></dt>
<dd><p>Assembles the packet into a form suitable for sending through a data
stream. For this base packet class, <a class="reference internal" href="#mil_usb_to_can.sub8.Packet.SOF" title="mil_usb_to_can.sub8.Packet.SOF"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SOF</span></code></a>, <a class="reference internal" href="#mil_usb_to_can.sub8.Packet.payload" title="mil_usb_to_can.sub8.Packet.payload"><code class="xref py py-attr docutils literal notranslate"><span class="pre">payload</span></code></a>,
and <a class="reference internal" href="#mil_usb_to_can.sub8.Packet.EOF" title="mil_usb_to_can.sub8.Packet.EOF"><code class="xref py py-attr docutils literal notranslate"><span class="pre">EOF</span></code></a> are assembled into one byte string.</p>
</dd></dl>

</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.Packet.payload">
<span class="sig-name descname"><span class="pre">payload</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.Packet.payload" title="Permalink to this definition">¶</a></dt>
<dd><p>The payload stored in the packet.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.Packet.SOF">
<span class="sig-name descname"><span class="pre">SOF</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.Packet.SOF" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag used to mark the beginning of each packet. Equal to <cite>0xC0</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.Packet.EOF">
<span class="sig-name descname"><span class="pre">EOF</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.Packet.EOF" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag used to mark the beginning of each packet. Equal to <cite>0xC1</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.Packet.from_bytes">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">T</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/constants.html#None" title="(in Python v3.8)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#Packet.from_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.Packet.from_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a packet from a packed bytes string into a Packet instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><em>bytes</em></a>) – The packed data to construct the Packet instance from.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The packet instance. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned if the packet
contains an empty payload.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[<a class="reference internal" href="#mil_usb_to_can.sub8.Packet" title="mil_usb_to_can.sub8.Packet">Packet</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.Packet.read_packet">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_packet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://pyserial.readthedocs.io/en/latest/pyserial_api.html#serial.Serial" title="(in pySerial v3.4)"><span class="pre">serial.Serial</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#mil_usb_to_can.sub8.SimulatedUSBtoCAN" title="mil_usb_to_can.sub8.SimulatedUSBtoCAN"><span class="pre">SimulatedUSBtoCAN</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">T</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/constants.html#None" title="(in Python v3.8)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#Packet.read_packet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.Packet.read_packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a packet with a known size from a serial device</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stream</strong> (<em>Union</em><em>[</em><a class="reference external" href="https://pyserial.readthedocs.io/en/latest/pyserial_api.html#serial.Serial" title="(in pySerial v3.4)"><em>serial.Serial</em></a><em>, </em><a class="reference internal" href="#mil_usb_to_can.sub8.SimulatedUSBtoCAN" title="mil_usb_to_can.sub8.SimulatedUSBtoCAN"><em>SimulatedUSBtoCAN</em></a><em>]</em>) – A instance of a serial
device to read from.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#mil_usb_to_can.sub8.InvalidStartFlagException" title="mil_usb_to_can.sub8.InvalidStartFlagException"><strong>InvalidStartFlagException</strong></a> – The start flag of the packet read was invalid.</p></li>
<li><p><a class="reference internal" href="#mil_usb_to_can.sub8.InvalidEndFlagException" title="mil_usb_to_can.sub8.InvalidEndFlagException"><strong>InvalidEndFlagException</strong></a> – The end flag of the packet read was invalid.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The read packet. If a packet was partially transmitted
(ie, starting with a character other than <a class="reference internal" href="#mil_usb_to_can.sub8.Packet.SOF" title="mil_usb_to_can.sub8.Packet.SOF"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SOF</span></code></a> or ending with
a character other than <a class="reference internal" href="#mil_usb_to_can.sub8.Packet.EOF" title="mil_usb_to_can.sub8.Packet.EOF"><code class="xref py py-attr docutils literal notranslate"><span class="pre">EOF</span></code></a>), then <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Optional[<a class="reference internal" href="#mil_usb_to_can.sub8.Packet" title="mil_usb_to_can.sub8.Packet">Packet</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="receivepacket">
<h3>ReceivePacket<a class="headerlink" href="#receivepacket" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub8.ReceivePacket"><div class="attribute-table-column">
<span>
Attributes</span><ul>
<li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket.EOF">EOF</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket.SOF">SOF</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket.data">data</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket.device">device</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket.length">length</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket.payload">payload</a></li></ul>
</div><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="classmethod">
cls</span><a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket.create_receive_packet">ReceivePacket.create_receive_packet</a></li><li class="attribute-table-entry">
<span class="attribute-table-badge" title="classmethod">
cls</span><a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket.from_bytes">ReceivePacket.from_bytes</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ReceivePacket">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">ReceivePacket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#ReceivePacket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.ReceivePacket" title="Permalink to this definition">¶</a></dt>
<dd><p>Packet used to request data from the USB to CAN board.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ReceivePacket.payload">
<span class="sig-name descname"><span class="pre">payload</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.ReceivePacket.payload" title="Permalink to this definition">¶</a></dt>
<dd><p>The payload stored in the packet.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ReceivePacket.SOF">
<span class="sig-name descname"><span class="pre">SOF</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.ReceivePacket.SOF" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag used to mark the beginning of each packet. Equal to <cite>0xC0</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ReceivePacket.EOF">
<span class="sig-name descname"><span class="pre">EOF</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.ReceivePacket.EOF" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag used to mark the beginning of each packet. Equal to <cite>0xC1</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ReceivePacket.create_receive_packet">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_receive_packet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket" title="mil_usb_to_can.sub8.utils.ReceivePacket"><span class="pre">ReceivePacket</span></a></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#ReceivePacket.create_receive_packet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.ReceivePacket.create_receive_packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a command packet to request data from a CAN device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device_id</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The CAN device ID to request data from.</p></li>
<li><p><strong>payload</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><em>bytes</em></a>) – The data to send in the packet.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The packet to request from the CAN device.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket" title="mil_usb_to_can.sub8.ReceivePacket">ReceivePacket</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ReceivePacket.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></em><a class="headerlink" href="#mil_usb_to_can.sub8.ReceivePacket.data" title="Permalink to this definition">¶</a></dt>
<dd><p>The data inside the packet.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ReceivePacket.device">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">device</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></em><a class="headerlink" href="#mil_usb_to_can.sub8.ReceivePacket.device" title="Permalink to this definition">¶</a></dt>
<dd><p>The device ID associated with the packet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ReceivePacket.from_bytes">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket" title="mil_usb_to_can.sub8.utils.ReceivePacket"><span class="pre">ReceivePacket</span></a></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#ReceivePacket.from_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.ReceivePacket.from_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a receive packet from packed bytes. This strips the checksum from
the bytes and then unpacks the data to gain the raw payload.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#mil_usb_to_can.sub8.ChecksumException" title="mil_usb_to_can.sub8.ChecksumException"><strong>ChecksumException</strong></a> – The checksum found in the data differs from that</p></li>
<li><p><strong>found in the data.</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The packet constructed from the packed bytes.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#mil_usb_to_can.sub8.ReceivePacket" title="mil_usb_to_can.sub8.ReceivePacket">ReceivePacket</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.ReceivePacket.length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">length</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.ReceivePacket.length" title="Permalink to this definition">¶</a></dt>
<dd><p>The length of the data to receive.</p>
</dd></dl>

</dd></dl>

</section>
<section id="commandpacket">
<h3>CommandPacket<a class="headerlink" href="#commandpacket" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub8.CommandPacket"><div class="attribute-table-column">
<span>
Attributes</span><ul>
<li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket.EOF">EOF</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket.SOF">SOF</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket.data">data</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket.filter_id">filter_id</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket.is_receive">is_receive</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket.length">length</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket.length_byte">length_byte</a></li><li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket.payload">payload</a></li></ul>
</div><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="classmethod">
cls</span><a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket.create_request_packet">CommandPacket.create_request_packet</a></li><li class="attribute-table-entry">
<span class="attribute-table-badge" title="classmethod">
cls</span><a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket.create_send_packet">CommandPacket.create_send_packet</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CommandPacket">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub8.</span></span><span class="sig-name descname"><span class="pre">CommandPacket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#CommandPacket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.CommandPacket" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a packet to the CAN board from the motherboard. This packet can
either request data from a device or send data to a device.</p>
<div class="operations docutils container">
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">bytes(x)</span></span></dt>
<dd><p>Assembles the packet into a form suitable for sending through a data
stream.</p>
</dd></dl>

</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CommandPacket.payload">
<span class="sig-name descname"><span class="pre">payload</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.CommandPacket.payload" title="Permalink to this definition">¶</a></dt>
<dd><p>The payload stored in the packet.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CommandPacket.SOF">
<span class="sig-name descname"><span class="pre">SOF</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.CommandPacket.SOF" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag used to mark the beginning of each packet. Equal to <cite>0xC0</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CommandPacket.EOF">
<span class="sig-name descname"><span class="pre">EOF</span></span><a class="headerlink" href="#mil_usb_to_can.sub8.CommandPacket.EOF" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag used to mark the beginning of each packet. Equal to <cite>0xC1</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CommandPacket.create_request_packet">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_request_packet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">receive_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket" title="mil_usb_to_can.sub8.utils.CommandPacket"><span class="pre">CommandPacket</span></a></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#CommandPacket.create_request_packet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.CommandPacket.create_request_packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a command packet to request data from a CAN device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filter_id</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The CAN device ID to request data from.</p></li>
<li><p><strong>receive_length</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The number of bytes to request.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The command packet responsible for requesting data from
a CAN device.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket" title="mil_usb_to_can.sub8.CommandPacket">CommandPacket</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CommandPacket.create_send_packet">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_send_packet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket" title="mil_usb_to_can.sub8.utils.CommandPacket"><span class="pre">CommandPacket</span></a></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub8/utils.html#CommandPacket.create_send_packet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub8.CommandPacket.create_send_packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a command packet to send data to the CAN bus from the motherboard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><em>bytes</em></a>) – The data payload.</p></li>
<li><p><strong>can_id</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The ID of the device to send data to. Defaults to 0.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#mil_usb_to_can.sub8.PayloadTooLargeException" title="mil_usb_to_can.sub8.PayloadTooLargeException"><strong>PayloadTooLargeException</strong></a> – The payload is larger than 8 bytes.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The packet responsible for sending information to the CAN bus
from the motherboard.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#mil_usb_to_can.sub8.CommandPacket" title="mil_usb_to_can.sub8.CommandPacket">CommandPacket</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CommandPacket.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></em><a class="headerlink" href="#mil_usb_to_can.sub8.CommandPacket.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
bytes: The data to be sent.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CommandPacket.filter_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filter_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></em><a class="headerlink" href="#mil_usb_to_can.sub8.CommandPacket.filter_id" title="Permalink to this definition">¶</a></dt>
<dd><p>An integer representing the CAN device ID specified by this packet.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CommandPacket.is_receive">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_receive</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><span class="pre">bool</span></a></em><a class="headerlink" href="#mil_usb_to_can.sub8.CommandPacket.is_receive" title="Permalink to this definition">¶</a></dt>
<dd><p>True if this CommandPacket is requesting data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CommandPacket.length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">length</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></em><a class="headerlink" href="#mil_usb_to_can.sub8.CommandPacket.length" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of bytes of data sent or requested.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mil_usb_to_can.sub8.CommandPacket.length_byte">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">length_byte</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><span class="pre">int</span></a></em><a class="headerlink" href="#mil_usb_to_can.sub8.CommandPacket.length_byte" title="Permalink to this definition">¶</a></dt>
<dd><p>The first header byte which encodes the length and the receive flag.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-mil_usb_to_can.sub9">
<span id="mil-usb-to-can-sub9-subjugator-9"></span><h2><a class="reference internal" href="#module-mil_usb_to_can.sub9" title="mil_usb_to_can.sub9"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mil_usb_to_can.sub9</span></code></a> - SubjuGator 9<a class="headerlink" href="#module-mil_usb_to_can.sub9" title="Permalink to this heading">¶</a></h2>
<section id="id1">
<h3>Packet Format<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<p>In order to reliably communicate with the USB to CAN board, a consistent packet format
must be defined.</p>
<p>Below is the USBtoCAN Packet Format. This packet format wraps every message being
sent over the serial connection to the USB to CAN board from ROS.</p>
<div class="table-wrapper"><table class="docutils align-default" id="id8">
<caption><span class="caption-text">USBtoCAN Packet Format</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Length</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Sync character 1 (<code class="docutils literal notranslate"><span class="pre">0x37</span></code>)</p></td>
<td><p>1 byte</p></td>
<td><p>First sync character indicating the start of packets.</p></td>
</tr>
<tr class="row-odd"><td><p>Sync character 2 (<code class="docutils literal notranslate"><span class="pre">0x01</span></code>)</p></td>
<td><p>1 byte</p></td>
<td><p>Second sync character indicating the start of packets.</p></td>
</tr>
<tr class="row-even"><td><p>Class ID</p></td>
<td><p>1 byte</p></td>
<td><p>Message class. Determines the family of messages the packet belongs to.</p></td>
</tr>
<tr class="row-odd"><td><p>Subclass ID</p></td>
<td><p>1 byte</p></td>
<td><p>Message subclass. In combination with class, determines specific qualities
of message.</p></td>
</tr>
<tr class="row-even"><td><p>Payload Length</p></td>
<td><p>2 bytes</p></td>
<td><p>Length of payload.</p></td>
</tr>
<tr class="row-odd"><td><p>Payload</p></td>
<td><p>0-65535 bytes</p></td>
<td><p>Payload. Meaning of payload is determined by specific packet class/subclass.</p></td>
</tr>
<tr class="row-even"><td><p>Checksum A</p></td>
<td><p>1 byte</p></td>
<td><p>First byte of Fletcher’s checksum.</p></td>
</tr>
<tr class="row-odd"><td><p>Checksum B</p></td>
<td><p>1 byte</p></td>
<td><p>Second byte of Fletcher’s checksum.</p></td>
</tr>
</tbody>
</table>
</div></section>
<section id="id2">
<h3>Checksums<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<p>All messages contain a checksum to help verify data integrity. However, receiving
packets also have a special byte containing a slightly modified checksum formula.</p>
<p>The checksum in all packets is found by adding up all bytes in the byte string,
including the start/end flags, and then using modulo 16 on this result.</p>
</section>
<section id="packet-listing">
<h3>Packet Listing<a class="headerlink" href="#packet-listing" title="Permalink to this heading">¶</a></h3>
<p>Below is a listing of all available packets. The payload format is the format
used by the <a class="reference external" href="https://docs.python.org/3.8/library/struct.html#module-struct" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">struct</span></code></a> module. For more information, see the Python documentation
on the <a class="reference external" href="https://docs.python.org/3.8/library/struct.html#format-characters" title="(in Python v3.8)"><span class="xref std std-ref">list of format characters</span></a>, and their corresponding
byte length.</p>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 12%" />
<col style="width: 14%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Message ID</p></th>
<th class="head"><p>Subclass ID</p></th>
<th class="head"><p>Payload Format</p></th>
<th class="head"><p>Class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>0x00
(Meta)</p></td>
<td><p>0x00</p></td>
<td><p>Empty</p></td>
<td><p><a class="reference internal" href="#mil_usb_to_can.sub9.NackPacket" title="mil_usb_to_can.sub9.NackPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">mil_usb_to_can.sub9.NackPacket</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p>0x01</p></td>
<td><p>Empty</p></td>
<td><p><a class="reference internal" href="#mil_usb_to_can.sub9.AckPacket" title="mil_usb_to_can.sub9.AckPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">mil_usb_to_can.sub9.AckPacket</span></code></a></p></td>
</tr>
<tr class="row-even"><td rowspan="4"><p>0x01
(Sub8
Thrust/
Kill)</p></td>
<td><p>0x00</p></td>
<td><p>Empty</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">sub8_thrust_and_kill_board.HeartbeatPacket</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>0x01</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Bf</span></code></p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">sub8_thrust_and_kill_board.ThrustSetPacket</span></code></p></td>
</tr>
<tr class="row-even"><td><p>0x02</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">B</span></code></p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">sub8_thrust_and_kill_board.KillSetPacket</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>0x03</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">B</span></code></p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">sub8_thrust_and_kill_board.KillReceivePacket</span></code></p></td>
</tr>
<tr class="row-even"><td rowspan="5"><p>0x02
(Sub9
Thrust/
Kill)</p></td>
<td><p>0x00</p></td>
<td><p>Empty</p></td>
<td><p><a class="reference internal" href="../subjugator/reference.html#sub9_thrust_and_kill_board.HeartbeatSetPacket" title="sub9_thrust_and_kill_board.HeartbeatSetPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">sub9_thrust_and_kill_board.HeartbeatSetPacket</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p>0x01</p></td>
<td><p>Empty</p></td>
<td><p><a class="reference internal" href="../subjugator/reference.html#sub9_thrust_and_kill_board.HeartbeatReceivePacket" title="sub9_thrust_and_kill_board.HeartbeatReceivePacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">sub9_thrust_and_kill_board.HeartbeatReceivePacket</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p>0x02</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Bf</span></code></p></td>
<td><p><a class="reference internal" href="../subjugator/reference.html#sub9_thrust_and_kill_board.ThrustSetPacket" title="sub9_thrust_and_kill_board.ThrustSetPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">sub9_thrust_and_kill_board.ThrustSetPacket</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p>0x03</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">B</span></code></p></td>
<td><p><a class="reference internal" href="../subjugator/reference.html#sub9_thrust_and_kill_board.KillSetPacket" title="sub9_thrust_and_kill_board.KillSetPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">sub9_thrust_and_kill_board.KillSetPacket</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p>0x04</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">B</span></code></p></td>
<td><p><a class="reference internal" href="../subjugator/reference.html#sub9_thrust_and_kill_board.KillReceivePacket" title="sub9_thrust_and_kill_board.KillReceivePacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">sub9_thrust_and_kill_board.KillReceivePacket</span></code></a></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>0x03
(Battery
Monitor)</p></td>
<td><p>0x00</p></td>
<td><p>Empty</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">sub8_battery_monitor_board.BatteryPollRequestPacket</span></code></p></td>
</tr>
<tr class="row-even"><td><p>0x01</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ffff</span></code></p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">sub8_battery_monitor_board.BatteryPollResponsePacket</span></code></p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>0x04
(Actuator
Board)</p></td>
<td><p>0x00</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BB</span></code></p></td>
<td><p><a class="reference internal" href="../subjugator/reference.html#sub_actuator_board.ActuatorSetPacket" title="sub_actuator_board.ActuatorSetPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">sub_actuator_board.ActuatorSetPacket</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p>0x01</p></td>
<td><p>Empty</p></td>
<td><p><a class="reference internal" href="../subjugator/reference.html#sub_actuator_board.ActuatorPollRequestPacket" title="sub_actuator_board.ActuatorPollRequestPacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">sub_actuator_board.ActuatorPollRequestPacket</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p>0x02</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">B</span></code></p></td>
<td><p><a class="reference internal" href="../subjugator/reference.html#sub_actuator_board.ActuatorPollResponsePacket" title="sub_actuator_board.ActuatorPollResponsePacket"><code class="xref py py-class docutils literal notranslate"><span class="pre">sub_actuator_board.ActuatorPollResponsePacket</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p>0x05
(System
Status)</p></td>
<td><p>0x00</p></td>
<td><p>Empty</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">sub9_system_status_board.SetLedRequestPacket</span></code></p></td>
</tr>
</tbody>
</table>
</div></section>
<section id="id3">
<h3>CANDeviceHandle<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub9.CANDeviceHandle"><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub9.CANDeviceHandle.on_data">on_data</a></li><li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub9.CANDeviceHandle.send_data">send_data</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub9.CANDeviceHandle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub9.</span></span><span class="sig-name descname"><span class="pre">CANDeviceHandle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">driver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANDriver" title="mil_usb_to_can.sub8.USBtoCANDriver"><span class="pre">USBtoCANDriver</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub9/device.html#CANDeviceHandle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub9.CANDeviceHandle" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class to allow developers to write handles for communication with a
particular CAN device. The two methods of the handle allow the handle to listen
to incoming data, as well as send data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> (<a class="reference internal" href="#mil_usb_to_can.sub8.USBtoCANBoard" title="mil_usb_to_can.sub8.USBtoCANBoard"><em>USBtoCANBoard</em></a>) – Driver that is used to communicate with the board.</p></li>
<li><p><strong>device_id</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The CAN ID of the device this class will handle. Not currently used.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub9.CANDeviceHandle.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#mil_usb_to_can.sub9.Packet" title="mil_usb_to_can.sub9.Packet"><span class="pre">Packet</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub9/device.html#CANDeviceHandle.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub9.CANDeviceHandle.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when a return packet is sent over the serial connection. In the
USB to CAN protocol, it is assumed that packets will be returned to the
motherboard in the order they are sent out. Therefore, the type of packet
sent through this event is not guaranteed, and is only determined by the
message and subclass ID sent by the individual board.</p>
<p>Partial data (ie, incomplete packets) are not sent through this event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>packet</strong> (<a class="reference internal" href="#mil_usb_to_can.sub9.Packet" title="mil_usb_to_can.sub9.Packet"><em>Packet</em></a>) – The incoming packet.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub9.CANDeviceHandle.send_data">
<span class="sig-name descname"><span class="pre">send_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#mil_usb_to_can.sub9.Packet" title="mil_usb_to_can.sub9.Packet"><span class="pre">Packet</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub9/device.html#CANDeviceHandle.send_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub9.CANDeviceHandle.send_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a packet over the serial connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<a class="reference internal" href="#mil_usb_to_can.sub9.Packet" title="mil_usb_to_can.sub9.Packet"><em>Packet</em></a>) – The packet to send.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="simulatedcandevicehandle">
<h3>SimulatedCANDeviceHandle<a class="headerlink" href="#simulatedcandevicehandle" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub9.SimulatedCANDeviceHandle"><div class="attribute-table-column">
<span>
Attributes</span><ul>
<li class="attribute-table-entry">
<a class="reference internal" href="#mil_usb_to_can.sub9.SimulatedCANDeviceHandle.inbound_packets">inbound_packets</a></li></ul>
</div><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub9.SimulatedCANDeviceHandle.on_data">on_data</a></li><li class="attribute-table-entry">
<span class="attribute-table-badge" title="method">
def</span><a class="reference internal" href="#mil_usb_to_can.sub9.SimulatedCANDeviceHandle.send_data">send_data</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub9.SimulatedCANDeviceHandle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub9.</span></span><span class="sig-name descname"><span class="pre">SimulatedCANDeviceHandle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sim_board</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SimulatedUSBtoCANStream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inbound_packets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#list" title="(in Python v3.8)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#type" title="(in Python v3.8)"><span class="pre">type</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#mil_usb_to_can.sub9.Packet" title="mil_usb_to_can.sub9.Packet"><span class="pre">Packet</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub9/device.html#SimulatedCANDeviceHandle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub9.SimulatedCANDeviceHandle" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates a CAN device, with functions to be overridden to handle data requests
and sends from motherboard.</p>
<p>Child classes can inherit from this class to implement a simulated CAN device.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="mil_usb_to_can.sub9.SimulatedCANDeviceHandle.inbound_packets">
<span class="sig-name descname"><span class="pre">inbound_packets</span></span><a class="headerlink" href="#mil_usb_to_can.sub9.SimulatedCANDeviceHandle.inbound_packets" title="Permalink to this definition">¶</a></dt>
<dd><p>The types of packets listened to by this device.
Packets of this type will be routed to the <a class="reference internal" href="#mil_usb_to_can.sub9.SimulatedCANDeviceHandle.on_data" title="mil_usb_to_can.sub9.SimulatedCANDeviceHandle.on_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">on_data()</span></code></a> method of
the device handle.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/functions.html#type" title="(in Python v3.8)">type</a>[<a class="reference internal" href="#mil_usb_to_can.sub9.Packet" title="mil_usb_to_can.sub9.Packet">Packet</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub9.SimulatedCANDeviceHandle.on_data">
<span class="sig-name descname"><span class="pre">on_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">packet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#mil_usb_to_can.sub9.Packet" title="mil_usb_to_can.sub9.Packet"><span class="pre">Packet</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub9/device.html#SimulatedCANDeviceHandle.on_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub9.SimulatedCANDeviceHandle.on_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when an relevant incoming packet is received over the serial
connection. Relevant packets are those listed in <a class="reference internal" href="#mil_usb_to_can.sub9.SimulatedCANDeviceHandle.inbound_packets" title="mil_usb_to_can.sub9.SimulatedCANDeviceHandle.inbound_packets"><code class="xref py py-attr docutils literal notranslate"><span class="pre">inbound_packets</span></code></a>.</p>
<p>Partial data (ie, incomplete packets) are not sent through this event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>packet</strong> (<a class="reference internal" href="#mil_usb_to_can.sub9.Packet" title="mil_usb_to_can.sub9.Packet"><em>Packet</em></a>) – The incoming packet.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub9.SimulatedCANDeviceHandle.send_data">
<span class="sig-name descname"><span class="pre">send_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mil_usb_to_can/sub9/device.html#SimulatedCANDeviceHandle.send_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub9.SimulatedCANDeviceHandle.send_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends data over the serial connection.</p>
</dd></dl>

</dd></dl>

</section>
<section id="id4">
<h3>Packet<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub9.Packet"><div class="attribute-table-column">
<span>
Methods</span><ul>
<li class="attribute-table-entry">
<span class="attribute-table-badge" title="classmethod">
cls</span><a class="reference internal" href="#mil_usb_to_can.sub9.Packet.from_bytes">Packet.from_bytes</a></li></ul>
</div></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub9.Packet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub9.</span></span><span class="sig-name descname"><span class="pre">Packet</span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub9/packet.html#Packet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub9.Packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents one packet sent or received by a device handle communicating to/from
the USB to CAN board. This class is able to handle packaging unique data
values into a <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> object for sending over a data stream.</p>
<p>This class should be overridden to implement unique packet payloads. Note
that this class supports three subclass arguments to assign unique message IDs,
subclass IDs, and payload formats. Note that all subclasses must be decorated
with <code class="xref py py-meth docutils literal notranslate"><span class="pre">dataclasses.dataclass()</span></code>.</p>
<p>If any class members are annotated with a subclass of <a class="reference external" href="https://docs.python.org/3.8/library/enum.html#enum.Enum" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a>,
the class will always make an attempt to convert the raw data value to an
instance of the enum before constructing the rest of the values in the class.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ExamplePacket</span><span class="p">(</span><span class="n">Packet</span><span class="p">,</span> <span class="n">msg_id</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span> <span class="n">subclass_id</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="n">payload_format</span> <span class="o">=</span> <span class="s2">&quot;BHHf&quot;</span><span class="p">):</span>
    <span class="n">example_char</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">example_short</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">example_short_two</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">example_float</span><span class="p">:</span> <span class="nb">float</span>
</pre></div>
</div>
<div class="operations docutils container">
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">bytes(x)</span></span></dt>
<dd><p>Returns a <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> object representing the data of the packet
in the specified packet format.</p>
</dd></dl>

</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg_id</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The message ID. Can be between 0 and 255.</p></li>
<li><p><strong>subclass_id</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The message subclass ID. Can be between 0 and 255.</p></li>
<li><p><strong>payload_format</strong> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – The format for the payload. This determines how
the individual payload is assembled. Each character in the format
string represents the position of one class variable. The class variables
are assembled in the order they are defined in.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mil_usb_to_can.sub9.Packet.from_bytes">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">packed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#mil_usb_to_can.sub9.Packet" title="mil_usb_to_can.sub9.packet.Packet"><span class="pre">Packet</span></a></span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub9/packet.html#Packet.from_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub9.Packet.from_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a packet from a packed packet in a <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#bytes" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> object.
If a packet is found with the corresponding message and subclass ID,
then an instance of that packet class will be returned, else <a class="reference internal" href="#mil_usb_to_can.sub9.Packet" title="mil_usb_to_can.sub9.Packet"><code class="xref py py-class docutils literal notranslate"><span class="pre">Packet</span></code></a>
will be returned.</p>
</dd></dl>

</dd></dl>

</section>
<section id="nackpacket">
<h3>NackPacket<a class="headerlink" href="#nackpacket" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub9.NackPacket"></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub9.NackPacket">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub9.</span></span><span class="sig-name descname"><span class="pre">NackPacket</span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub9/packet.html#NackPacket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub9.NackPacket" title="Permalink to this definition">¶</a></dt>
<dd><p>Common not-acknowledged packet. Should only be found in response operations.</p>
</dd></dl>

</section>
<section id="ackpacket">
<h3>AckPacket<a class="headerlink" href="#ackpacket" title="Permalink to this heading">¶</a></h3>
<div class="attribute-table" data-move-to-id="mil_usb_to_can.sub9.AckPacket"></div><dl class="py class">
<dt class="sig sig-object py" id="mil_usb_to_can.sub9.AckPacket">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mil_usb_to_can.sub9.</span></span><span class="sig-name descname"><span class="pre">AckPacket</span></span><a class="reference internal" href="../_modules/mil_usb_to_can/sub9/packet.html#AckPacket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mil_usb_to_can.sub9.AckPacket" title="Permalink to this definition">¶</a></dt>
<dd><p>Common acknowledgment packet. Should only be found in response operations.</p>
</dd></dl>

</section>
</section>
</section>


            </main>
        </div>
    </body>
</html>