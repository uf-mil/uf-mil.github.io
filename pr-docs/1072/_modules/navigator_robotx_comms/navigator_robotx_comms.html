<!DOCTYPE html>
<!-- Some pieces of this template were used from https://github.com/Rapptz/discord.py/blob/master/docs/_templates/layout.html -->
<html>
    <head>
        <!-- HTML meta -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale: 1.0">
        <title>navigator_robotx_comms.navigator_robotx_comms</title>
        <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
        <link rel="stylesheet" href="../../_static/codeblocks.css" type="text/css" />
        <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
        <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../searchindex.js" defer></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/custom.js"></script>
        <script src="../../_static/sidebar.js"></script>
        <script src="../../_static/lightdarkmode.js"></script>
        <link rel="shortcut icon" href="../../_static/mil_white.svg"/>
        <link rel="index" title="Index" href="../../genindex.html" />
        <link rel="search" title="Search" href="../../search.html" />
    </head>
    <body>
        <div class="main-grid">
            <header class="grid-item">
                <nav>
                    <a class="main-heading" href="../../index.html">Machine Intelligence Lab</a>
                    <div id="mil-light-dark-icon" onClick="rotateLightDark();">
                        <span class="material-icons" title=""></span>
                    </div>
                    <a href="https://github.com/uf-mil/mil" target="_blank"><img class="mil-svg" src="../../_static/github.svg" /></a>
                    <a href="https://mil.ufl.edu" target="_blank"><img class="mil-svg" src="../../_static/mil.svg" /></a>
                </nav>
            </header>
            <aside class="grid-item">
                <span id="hamburger-toggle">
                    <span class="material-icons">menu</span>
                </span>
                <div id="sidebar"><form id="search-form" role="search" class="search" action="../../search.html" method="get">
    <div class="search-wrapper">
        <input type="search" name="q" placeholder="Search documentation" />
        <button type="submit" onmousedown="searchBarClick(event, document.getElementById('search-form'));">
            <span class="material-icons">search</span>
        </button>
    </div>
</form>
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../welcome.html">Welcome to MIL!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mechanical/index.html">Mechanical</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../electrical/index.html">Electrical</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software/index.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../subjugator/index.html">SubjuGator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../navigator/index.html">NaviGator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">Software Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../subjugator/reference.html">Subjugator Software Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../navigator/reference.html">Navigator Software Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../design/design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../infrastructure/index.html">Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../culture.html">Culture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../branding.html">Branding</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testingprocedures.html">SubjuGator Testing Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deprecated.html">Deprecated Projects</a></li>
</ul>

                </div>
            </aside>
            <main class="grid-item" role="main">
                
  <h1>Source code for navigator_robotx_comms.navigator_robotx_comms</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">RobotX Communications Library: A library that handles serialization and deserialization</span>
<span class="sd">of messages for the RobotX Communication Protocol</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span>

<span class="kn">import</span> <span class="nn">tf.transformations</span> <span class="k">as</span> <span class="nn">trans</span>
<span class="kn">from</span> <span class="nn">mil_tools</span> <span class="kn">import</span> <span class="n">rosmsg_to_numpy</span>
<span class="kn">from</span> <span class="nn">nav_msgs.msg</span> <span class="kn">import</span> <span class="n">Odometry</span>
<span class="kn">from</span> <span class="nn">navigator_msgs.srv</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">MessageDetectDockRequest</span><span class="p">,</span>
    <span class="n">MessageEntranceExitGateRequest</span><span class="p">,</span>
    <span class="n">MessageFindFlingRequest</span><span class="p">,</span>
    <span class="n">MessageFollowPathRequest</span><span class="p">,</span>
    <span class="n">MessageReactReportRequest</span><span class="p">,</span>
    <span class="n">MessageUAVReplenishmentRequest</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">class</span> <span class="nc">BitwiseXORChecksum</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tot_checksum</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">ret_checksum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">unit_counter</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tot_checksum</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">message</span><span class="p">[</span><span class="n">unit_counter</span><span class="p">])</span> <span class="o">^</span> <span class="bp">self</span><span class="o">.</span><span class="n">tot_checksum</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tot_checksum</span>


<div class="viewcode-block" id="RobotXHeartbeatMessage"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXHeartbeatMessage">[docs]</a><span class="k">class</span> <span class="nc">RobotXHeartbeatMessage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles formation of the heartbeat message.</span>

<span class="sd">    .. warning::</span>

<span class="sd">        The following code pertains to the **2022 edition** of the AUVSI RobotX</span>
<span class="sd">        competition, held in Australia. Updates to the specifications may have changed</span>
<span class="sd">        since this competition, and therefore, the code may not accurately represent</span>
<span class="sd">        the specifications MIL must produce for the competition.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        message_id (str): The ID identifying the message as a MIL heartbeat message.</span>
<span class="sd">            For the 2022 season, this is ``RXHRB``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="s2">&quot;RXHRB&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timestamp_last</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="RobotXHeartbeatMessage.from_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXHeartbeatMessage.from_string">[docs]</a>    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delim</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        From a message representing a message as a string, return the data and checksum</span>
<span class="sd">        lists encoded in the string.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter separating the values in the data list. Frequently</span>
<span class="sd">                is a comma.</span>
<span class="sd">            string (str): The message represented as a string.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[List[str], List[str]]: A tuple, where the first element is a list</span>
<span class="sd">            of data values, and the second element is the checksum info.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span>
        <span class="n">checksum_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">checksum_list</span></div>

<div class="viewcode-block" id="RobotXHeartbeatMessage.to_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXHeartbeatMessage.to_string">[docs]</a>    <span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">delim</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">aedt_date_time</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">gps_array</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span>
        <span class="n">odom</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Odometry</span><span class="p">],</span>
        <span class="n">uav_status</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="n">system_mode</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="n">use_test_data</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Given the necessary information to encode in the message, a message (as a string)</span>
<span class="sd">        is created. This message is ready to be sent back through the RobotX communications</span>
<span class="sd">        protocol.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter to use when separating the data.</span>
<span class="sd">            team_id (str): The team ID used by MIL when sending messages.</span>
<span class="sd">            aedt_date_time (Any): Presumably (??) a datetime object representing the</span>
<span class="sd">                current time in AEDT.</span>
<span class="sd">            gps_array (Optional[Any]): A specific message type containing at least a point. (??)</span>
<span class="sd">            odom (Optional[Odometry]): An optional odometry message to encode in the message.</span>
<span class="sd">                If ``None``, then empty strings are used in the message instead of the</span>
<span class="sd">                current position.</span>
<span class="sd">            uav_status (Optional[int]): The status of the UAV. If ``None``,</span>
<span class="sd">                then zero is used in the message.</span>
<span class="sd">            system_mode (Optional[int]): The current mode of the boat. If ``None``,</span>
<span class="sd">                then zero is used in the message.</span>
<span class="sd">            use_test_data (bool): Whether to use a sample message. If so, most of the</span>
<span class="sd">                other parameters are ignored, as they are not needed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The constructed message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">gps_array</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">latitude</span> <span class="o">=</span> <span class="n">gps_array</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">x</span>
            <span class="n">longitude</span> <span class="o">=</span> <span class="n">gps_array</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">y</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">latitude</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">longitude</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">if</span> <span class="n">odom</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">quaternion</span> <span class="o">=</span> <span class="n">odom</span><span class="o">.</span><span class="n">pose</span><span class="o">.</span><span class="n">pose</span><span class="o">.</span><span class="n">orientation</span>
            <span class="n">quaternion_numpy</span> <span class="o">=</span> <span class="n">rosmsg_to_numpy</span><span class="p">(</span><span class="n">quaternion</span><span class="p">)</span>
            <span class="n">euler_angles</span> <span class="o">=</span> <span class="n">trans</span><span class="o">.</span><span class="n">euler_from_quaternion</span><span class="p">(</span><span class="n">quaternion_numpy</span><span class="p">)</span>
            <span class="n">north_south</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">east_west</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">euler_angles</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">north_south</span> <span class="o">=</span> <span class="s2">&quot;N&quot;</span>
                <span class="n">east_west</span> <span class="o">=</span> <span class="s2">&quot;E&quot;</span>
            <span class="k">elif</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="n">euler_angles</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">:</span>
                <span class="n">north_south</span> <span class="o">=</span> <span class="s2">&quot;N&quot;</span>
                <span class="n">east_west</span> <span class="o">=</span> <span class="s2">&quot;W&quot;</span>
            <span class="k">elif</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="n">euler_angles</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">:</span>
                <span class="n">north_south</span> <span class="o">=</span> <span class="s2">&quot;S&quot;</span>
                <span class="n">east_west</span> <span class="o">=</span> <span class="s2">&quot;W&quot;</span>
            <span class="k">elif</span> <span class="mi">0</span> <span class="o">&gt;</span> <span class="n">euler_angles</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">north_south</span> <span class="o">=</span> <span class="s2">&quot;S&quot;</span>
                <span class="n">east_west</span> <span class="o">=</span> <span class="s2">&quot;E&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">east_west</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">north_south</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">if</span> <span class="n">uav_status</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">uav_status</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">system_mode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">system_mode</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">first_half_data</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}{}{}{}{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">aedt_date_time</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">latitude</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">north_south</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">second_half_data</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}{}{}{}{}{}{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">longitude</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">east_west</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">team_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">system_mode</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">uav_status</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="n">full_data</span> <span class="o">=</span> <span class="n">first_half_data</span> <span class="o">+</span> <span class="n">delim</span> <span class="o">+</span> <span class="n">second_half_data</span>

        <span class="c1"># test data</span>
        <span class="k">if</span> <span class="n">use_test_data</span><span class="p">:</span>
            <span class="n">full_data</span> <span class="o">=</span> <span class="s2">&quot;RXHRB,111221,161229,21.31198,N,157.88972,W,ROBOT,2,1&quot;</span>

        <span class="n">checksum_calc</span> <span class="o">=</span> <span class="n">BitwiseXORChecksum</span><span class="p">()</span>
        <span class="n">checksum</span> <span class="o">=</span> <span class="n">checksum_calc</span><span class="o">.</span><span class="n">ret_checksum</span><span class="p">(</span><span class="n">full_data</span><span class="p">)</span>
        <span class="n">hex_checksum</span> <span class="o">=</span> <span class="nb">format</span><span class="p">(</span><span class="n">checksum</span><span class="p">,</span> <span class="s2">&quot;02X&quot;</span><span class="p">)</span>

        <span class="n">msg_return</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">full_data</span><span class="si">}</span><span class="s2">*</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">hex_checksum</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="se">\r\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">msg_return</span></div></div>


<div class="viewcode-block" id="RobotXEntranceExitGateMessage"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXEntranceExitGateMessage">[docs]</a><span class="k">class</span> <span class="nc">RobotXEntranceExitGateMessage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles formation of entrance and exit gates message.</span>

<span class="sd">    .. warning::</span>

<span class="sd">        The following code pertains to the **2022 edition** of the AUVSI RobotX</span>
<span class="sd">        competition, held in Australia. Updates to the specifications may have changed</span>
<span class="sd">        since this competition, and therefore, the code may not accurately represent</span>
<span class="sd">        the specifications MIL must produce for the competition.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        message_id (str): The ID of the message to signal that it is related to the</span>
<span class="sd">            entrance and exit gates.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="s2">&quot;RXGAT&quot;</span>

<div class="viewcode-block" id="RobotXEntranceExitGateMessage.from_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXEntranceExitGateMessage.from_string">[docs]</a>    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delim</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a list of data values and a checksum list from a provided message.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter splitting up the data values.</span>
<span class="sd">            string (str): The message to get the data values from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[List[str], List[str]]: A tuple representing two values. The first</span>
<span class="sd">            is the list of data values encoded in the message. The second value</span>
<span class="sd">            is the checksum list encoded in the message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span>
        <span class="n">checksum_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">checksum_list</span></div>

<div class="viewcode-block" id="RobotXEntranceExitGateMessage.to_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXEntranceExitGateMessage.to_string">[docs]</a>    <span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">delim</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">team_id</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">aedt_date_time</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">MessageEntranceExitGateRequest</span><span class="p">,</span>
        <span class="n">use_test_data</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a message using the provided parameters. This message is formatted</span>
<span class="sd">        according to 2022 AUVSI specifications.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter to use in between data values.</span>
<span class="sd">            team_id (Any): A value (??) that can be converted to a string to represent</span>
<span class="sd">                the MIL team ID.</span>
<span class="sd">            aedt_date_time (Any): A value (??) used to represent the current date + time</span>
<span class="sd">                in AEDT.</span>
<span class="sd">            data (MessageEntranceExitGateRequest): The data about the entrance/exit</span>
<span class="sd">                gate mission.</span>
<span class="sd">            use_test_data (bool): Whether to use test data in the message. If ``True``,</span>
<span class="sd">                then most of the other parameters are ignored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The encoded message.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}{}{}{}{}{}{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">aedt_date_time</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">team_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">entrance_gate</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">exit_gate</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># test data</span>
        <span class="k">if</span> <span class="n">use_test_data</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;RXGAT,111221,161229,ROBOT,1,2&quot;</span>

        <span class="n">checksum_calc</span> <span class="o">=</span> <span class="n">BitwiseXORChecksum</span><span class="p">()</span>
        <span class="n">checksum</span> <span class="o">=</span> <span class="n">checksum_calc</span><span class="o">.</span><span class="n">ret_checksum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">hex_checksum</span> <span class="o">=</span> <span class="nb">format</span><span class="p">(</span><span class="n">checksum</span><span class="p">,</span> <span class="s2">&quot;02X&quot;</span><span class="p">)</span>

        <span class="n">msg_return</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">*</span><span class="si">{</span><span class="n">hex_checksum</span><span class="si">}</span><span class="se">\r\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">msg_return</span></div></div>


<div class="viewcode-block" id="RobotXFollowPathMessage"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXFollowPathMessage">[docs]</a><span class="k">class</span> <span class="nc">RobotXFollowPathMessage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles formation of follow path message.</span>

<span class="sd">    .. warning::</span>

<span class="sd">        The following code pertains to the **2022 edition** of the AUVSI RobotX</span>
<span class="sd">        competition, held in Australia. Updates to the specifications may have changed</span>
<span class="sd">        since this competition, and therefore, the code may not accurately represent</span>
<span class="sd">        the specifications MIL must produce for the competition.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        message_id (str): The ID of the message to signal that it is related to the</span>
<span class="sd">            follow path message.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="s2">&quot;RXPTH&quot;</span>

<div class="viewcode-block" id="RobotXFollowPathMessage.from_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXFollowPathMessage.from_string">[docs]</a>    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delim</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a list of data values and a checksum list from a provided message.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter splitting up the data values.</span>
<span class="sd">            string (str): The message to get the data values from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[List[str], List[str]]: A tuple representing two values. The first</span>
<span class="sd">            is the list of data values encoded in the message. The second value</span>
<span class="sd">            is the checksum list encoded in the message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span>
        <span class="n">checksum_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">checksum_list</span></div>

<div class="viewcode-block" id="RobotXFollowPathMessage.to_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXFollowPathMessage.to_string">[docs]</a>    <span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">delim</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">team_id</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">aedt_date_time</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">MessageFollowPathRequest</span><span class="p">,</span>
        <span class="n">use_test_data</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a message using the provided parameters. This message is formatted</span>
<span class="sd">        according to 2022 AUVSI specifications.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter to use in between data values.</span>
<span class="sd">            team_id (Any): A value (??) that can be converted to a string to represent</span>
<span class="sd">                the MIL team ID.</span>
<span class="sd">            aedt_date_time (Any): A value (??) used to represent the current date + time</span>
<span class="sd">                in AEDT.</span>
<span class="sd">            data (MessageFollowPathRequest): The data about the follow path mission.</span>
<span class="sd">            use_test_data (bool): Whether to use test data in the message. If ``True``,</span>
<span class="sd">                then most of the other parameters are ignored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The encoded message.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}{}{}{}{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">aedt_date_time</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">team_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">finished</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># test data</span>
        <span class="k">if</span> <span class="n">use_test_data</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;RXPTH,111221,161229,ROBOT,1&quot;</span>

        <span class="n">checksum_calc</span> <span class="o">=</span> <span class="n">BitwiseXORChecksum</span><span class="p">()</span>
        <span class="n">checksum</span> <span class="o">=</span> <span class="n">checksum_calc</span><span class="o">.</span><span class="n">ret_checksum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">hex_checksum</span> <span class="o">=</span> <span class="nb">format</span><span class="p">(</span><span class="n">checksum</span><span class="p">,</span> <span class="s2">&quot;02X&quot;</span><span class="p">)</span>

        <span class="n">msg_return</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">*</span><span class="si">{</span><span class="n">hex_checksum</span><span class="si">}</span><span class="se">\r\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">msg_return</span></div></div>


<div class="viewcode-block" id="RobotXReactReportMessage"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXReactReportMessage">[docs]</a><span class="k">class</span> <span class="nc">RobotXReactReportMessage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles formation of react report message.</span>

<span class="sd">    .. warning::</span>

<span class="sd">        The following code pertains to the **2022 edition** of the AUVSI RobotX</span>
<span class="sd">        competition, held in Australia. Updates to the specifications may have changed</span>
<span class="sd">        since this competition, and therefore, the code may not accurately represent</span>
<span class="sd">        the specifications MIL must produce for the competition.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        message_id (str): The ID of the message to signal that it is related to the</span>
<span class="sd">            follow path message.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="s2">&quot;RXENC&quot;</span>

<div class="viewcode-block" id="RobotXReactReportMessage.from_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXReactReportMessage.from_string">[docs]</a>    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delim</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a list of data values and a checksum list from a provided message.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter splitting up the data values.</span>
<span class="sd">            string (str): The message to get the data values from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[List[str], List[str]]: A tuple representing two values. The first</span>
<span class="sd">            is the list of data values encoded in the message. The second value</span>
<span class="sd">            is the checksum list encoded in the message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span>
        <span class="n">checksum_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">checksum_list</span></div>

<div class="viewcode-block" id="RobotXReactReportMessage.to_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXReactReportMessage.to_string">[docs]</a>    <span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">delim</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">team_id</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">aedt_date_time</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">MessageReactReportRequest</span><span class="p">,</span>
        <span class="n">use_test_data</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a message using the provided parameters. This message is formatted</span>
<span class="sd">        according to 2022 AUVSI specifications.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter to use in between data values.</span>
<span class="sd">            team_id (Any): A value (??) that can be converted to a string to represent</span>
<span class="sd">                the MIL team ID.</span>
<span class="sd">            aedt_date_time (Any): A value (??) used to represent the current date + time</span>
<span class="sd">                in AEDT.</span>
<span class="sd">            data (MessageReactReportRequest): The data about the react report mission.</span>
<span class="sd">            use_test_data (bool): Whether to use test data in the message. If ``True``,</span>
<span class="sd">                then most of the other parameters are ignored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The encoded message.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">data_</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}{}{}{}{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">aedt_date_time</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">team_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">animal_array</span><span class="p">)),</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">animal_array</span><span class="p">:</span>
            <span class="n">data_</span> <span class="o">+=</span> <span class="n">delim</span> <span class="o">+</span> <span class="n">animal</span>

        <span class="c1"># test data</span>
        <span class="k">if</span> <span class="n">use_test_data</span><span class="p">:</span>
            <span class="n">data_</span> <span class="o">=</span> <span class="s2">&quot;RXENC,111221,161229,ROBOT,3,P,C,T&quot;</span>

        <span class="n">checksum_calc</span> <span class="o">=</span> <span class="n">BitwiseXORChecksum</span><span class="p">()</span>
        <span class="n">checksum</span> <span class="o">=</span> <span class="n">checksum_calc</span><span class="o">.</span><span class="n">ret_checksum</span><span class="p">(</span><span class="n">data_</span><span class="p">)</span>
        <span class="n">hex_checksum</span> <span class="o">=</span> <span class="nb">format</span><span class="p">(</span><span class="n">checksum</span><span class="p">,</span> <span class="s2">&quot;02X&quot;</span><span class="p">)</span>

        <span class="n">msg_return</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">data_</span><span class="si">}</span><span class="s2">*</span><span class="si">{</span><span class="n">hex_checksum</span><span class="si">}</span><span class="se">\r\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">msg_return</span></div></div>


<div class="viewcode-block" id="RobotXScanCodeMessage"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXScanCodeMessage">[docs]</a><span class="k">class</span> <span class="nc">RobotXScanCodeMessage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles formation and sending of scan the code message.</span>

<span class="sd">    .. warning::</span>

<span class="sd">        The following code pertains to the **2022 edition** of the AUVSI RobotX</span>
<span class="sd">        competition, held in Australia. Updates to the specifications may have changed</span>
<span class="sd">        since this competition, and therefore, the code may not accurately represent</span>
<span class="sd">        the specifications MIL must produce for the competition.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        message_id (str): The ID identifying the message as a Scan the Code message type.</span>
<span class="sd">            Equal to ``RXCOD``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="s2">&quot;RXCOD&quot;</span>

<div class="viewcode-block" id="RobotXScanCodeMessage.from_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXScanCodeMessage.from_string">[docs]</a>    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delim</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the information encoded in a message.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter separating values in the data list encoded</span>
<span class="sd">                in the message.</span>
<span class="sd">            string (str): The message string to use to get data from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[List[str], List[str]]: The tuple containing a list of data values</span>
<span class="sd">            as the first value, and a list of checksums as the second value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span>
        <span class="n">checksum_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">checksum_list</span></div>

<div class="viewcode-block" id="RobotXScanCodeMessage.to_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXScanCodeMessage.to_string">[docs]</a>    <span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">delim</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">team_id</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">aedt_date_time</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">color_pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">use_test_data</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a Scan the Code status message.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The string delimiter used to separate distinct data</span>
<span class="sd">                points in the message.</span>
<span class="sd">            team_id (Any): The team ID used by MIL in the competition.</span>
<span class="sd">            aedt_date_time (Any): The datetime to send in AEDT.</span>
<span class="sd">            color_pattern (str): The color pattern to send in the message.</span>
<span class="sd">            use_test_data (bool): Whether to use test data when sending the message.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The constructed message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}{}{}{}{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">aedt_date_time</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">team_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">color_pattern</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># test data</span>
        <span class="k">if</span> <span class="n">use_test_data</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;RXCOD,111221,161229,ROBOT,RBG&quot;</span>

        <span class="n">checksum_calc</span> <span class="o">=</span> <span class="n">BitwiseXORChecksum</span><span class="p">()</span>
        <span class="n">checksum</span> <span class="o">=</span> <span class="n">checksum_calc</span><span class="o">.</span><span class="n">ret_checksum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">hex_checksum</span> <span class="o">=</span> <span class="nb">format</span><span class="p">(</span><span class="n">checksum</span><span class="p">,</span> <span class="s2">&quot;02X&quot;</span><span class="p">)</span>

        <span class="n">msg_return</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">*</span><span class="si">{</span><span class="n">hex_checksum</span><span class="si">}</span><span class="se">\r\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">msg_return</span></div></div>


<div class="viewcode-block" id="RobotXDetectDockMessage"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXDetectDockMessage">[docs]</a><span class="k">class</span> <span class="nc">RobotXDetectDockMessage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles formation of detect dock message.</span>

<span class="sd">    .. warning::</span>

<span class="sd">        The following code pertains to the **2022 edition** of the AUVSI RobotX</span>
<span class="sd">        competition, held in Australia. Updates to the specifications may have changed</span>
<span class="sd">        since this competition, and therefore, the code may not accurately represent</span>
<span class="sd">        the specifications MIL must produce for the competition.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        message_id (str): The ID of the message to signal that it is related to the</span>
<span class="sd">            detect dock message.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="s2">&quot;RXDOK&quot;</span>

<div class="viewcode-block" id="RobotXDetectDockMessage.from_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXDetectDockMessage.from_string">[docs]</a>    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delim</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a list of data values and a checksum list from a provided message.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter splitting up the data values.</span>
<span class="sd">            string (str): The message to get the data values from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[List[str], List[str]]: A tuple representing two values. The first</span>
<span class="sd">            is the list of data values encoded in the message. The second value</span>
<span class="sd">            is the checksum list encoded in the message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span>
        <span class="n">checksum_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">checksum_list</span></div>

<div class="viewcode-block" id="RobotXDetectDockMessage.to_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXDetectDockMessage.to_string">[docs]</a>    <span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">delim</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">team_id</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">aedt_date_time</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">MessageDetectDockRequest</span><span class="p">,</span>
        <span class="n">use_test_data</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a message using the provided parameters. This message is formatted</span>
<span class="sd">        according to 2022 AUVSI specifications.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter to use in between data values.</span>
<span class="sd">            team_id (Any): A value (??) that can be converted to a string to represent</span>
<span class="sd">                the MIL team ID.</span>
<span class="sd">            aedt_date_time (Any): A value (??) used to represent the current date + time</span>
<span class="sd">                in AEDT.</span>
<span class="sd">            data (MessageDetectDockRequest): The data about the detect dock mission.</span>
<span class="sd">            use_test_data (bool): Whether to use test data in the message. If ``True``,</span>
<span class="sd">                then most of the other parameters are ignored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The encoded message.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}{}{}{}{}{}{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">aedt_date_time</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">team_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">color</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">ams_status</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># test data</span>
        <span class="k">if</span> <span class="n">use_test_data</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;RXDOK,111221,161229,ROBOT,R,1&quot;</span>

        <span class="n">checksum_calc</span> <span class="o">=</span> <span class="n">BitwiseXORChecksum</span><span class="p">()</span>
        <span class="n">checksum</span> <span class="o">=</span> <span class="n">checksum_calc</span><span class="o">.</span><span class="n">ret_checksum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">hex_checksum</span> <span class="o">=</span> <span class="nb">format</span><span class="p">(</span><span class="n">checksum</span><span class="p">,</span> <span class="s2">&quot;02X&quot;</span><span class="p">)</span>

        <span class="n">msg_return</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">*</span><span class="si">{</span><span class="n">hex_checksum</span><span class="si">}</span><span class="se">\r\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">msg_return</span></div></div>


<div class="viewcode-block" id="RobotXFindFlingMessage"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXFindFlingMessage">[docs]</a><span class="k">class</span> <span class="nc">RobotXFindFlingMessage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles formation of find fling message.</span>

<span class="sd">    .. warning::</span>

<span class="sd">        The following code pertains to the **2022 edition** of the AUVSI RobotX</span>
<span class="sd">        competition, held in Australia. Updates to the specifications may have changed</span>
<span class="sd">        since this competition, and therefore, the code may not accurately represent</span>
<span class="sd">        the specifications MIL must produce for the competition.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        message_id (str): The ID of the message to signal that it is related to the</span>
<span class="sd">            find fling message.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="s2">&quot;RXFLG&quot;</span>

<div class="viewcode-block" id="RobotXFindFlingMessage.from_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXFindFlingMessage.from_string">[docs]</a>    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delim</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a list of data values and a checksum list from a provided message.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter splitting up the data values.</span>
<span class="sd">            string (str): The message to get the data values from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[List[str], List[str]]: A tuple representing two values. The first</span>
<span class="sd">            is the list of data values encoded in the message. The second value</span>
<span class="sd">            is the checksum list encoded in the message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span>
        <span class="n">checksum_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">checksum_list</span></div>

<div class="viewcode-block" id="RobotXFindFlingMessage.to_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXFindFlingMessage.to_string">[docs]</a>    <span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">delim</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">team_id</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">aedt_date_time</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">MessageFindFlingRequest</span><span class="p">,</span>
        <span class="n">use_test_data</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a message using the provided parameters. This message is formatted</span>
<span class="sd">        according to 2022 AUVSI specifications.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter to use in between data values.</span>
<span class="sd">            team_id (Any): A value (??) that can be converted to a string to represent</span>
<span class="sd">                the MIL team ID.</span>
<span class="sd">            aedt_date_time (Any): A value (??) used to represent the current date + time</span>
<span class="sd">                in AEDT.</span>
<span class="sd">            data (MessageFindFlingRequest): The data about the find fling mission.</span>
<span class="sd">            use_test_data (bool): Whether to use test data in the message. If ``True``,</span>
<span class="sd">                then most of the other parameters are ignored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The encoded message.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}{}{}{}{}{}{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">aedt_date_time</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">team_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">color</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">ams_status</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># test data</span>
        <span class="k">if</span> <span class="n">use_test_data</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;RXFLG,111221,161229,ROBOT,R,2&quot;</span>

        <span class="n">checksum_calc</span> <span class="o">=</span> <span class="n">BitwiseXORChecksum</span><span class="p">()</span>
        <span class="n">checksum</span> <span class="o">=</span> <span class="n">checksum_calc</span><span class="o">.</span><span class="n">ret_checksum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">hex_checksum</span> <span class="o">=</span> <span class="nb">format</span><span class="p">(</span><span class="n">checksum</span><span class="p">,</span> <span class="s2">&quot;02X&quot;</span><span class="p">)</span>

        <span class="n">msg_return</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">*</span><span class="si">{</span><span class="n">hex_checksum</span><span class="si">}</span><span class="se">\r\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">msg_return</span></div></div>


<div class="viewcode-block" id="RobotXUAVReplenishmentMessage"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXUAVReplenishmentMessage">[docs]</a><span class="k">class</span> <span class="nc">RobotXUAVReplenishmentMessage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles formation of UAV replenishment message.</span>

<span class="sd">    .. warning::</span>

<span class="sd">        The following code pertains to the **2022 edition** of the AUVSI RobotX</span>
<span class="sd">        competition, held in Australia. Updates to the specifications may have changed</span>
<span class="sd">        since this competition, and therefore, the code may not accurately represent</span>
<span class="sd">        the specifications MIL must produce for the competition.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        message_id (str): The ID of the message to signal that it is related to the</span>
<span class="sd">            uav replenishment message.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="s2">&quot;RXUAV&quot;</span>

<div class="viewcode-block" id="RobotXUAVReplenishmentMessage.from_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXUAVReplenishmentMessage.from_string">[docs]</a>    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delim</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a list of data values and a checksum list from a provided message.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter splitting up the data values.</span>
<span class="sd">            string (str): The message to get the data values from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[List[str], List[str]]: A tuple representing two values. The first</span>
<span class="sd">            is the list of data values encoded in the message. The second value</span>
<span class="sd">            is the checksum list encoded in the message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span>
        <span class="n">checksum_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">checksum_list</span></div>

<div class="viewcode-block" id="RobotXUAVReplenishmentMessage.to_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXUAVReplenishmentMessage.to_string">[docs]</a>    <span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">delim</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">team_id</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">aedt_date_time</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">MessageUAVReplenishmentRequest</span><span class="p">,</span>
        <span class="n">use_test_data</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a message using the provided parameters. This message is formatted</span>
<span class="sd">        according to 2022 AUVSI specifications.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter to use in between data values.</span>
<span class="sd">            team_id (Any): A value (??) that can be converted to a string to represent</span>
<span class="sd">                the MIL team ID.</span>
<span class="sd">            aedt_date_time (Any): A value (??) used to represent the current date + time</span>
<span class="sd">                in AEDT.</span>
<span class="sd">            data (MessageUAVReplenishmentRequest): The data about the WAV replenishment mission.</span>
<span class="sd">            use_test_data (bool): Whether to use test data in the message. If ``True``,</span>
<span class="sd">                then most of the other parameters are ignored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The encoded message.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}{}{}{}{}{}{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">aedt_date_time</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">team_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">uav_status</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">item_status</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># test data</span>
        <span class="k">if</span> <span class="n">use_test_data</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;RXUAV,111221,161229,ROBOT,2,1&quot;</span>

        <span class="n">checksum_calc</span> <span class="o">=</span> <span class="n">BitwiseXORChecksum</span><span class="p">()</span>
        <span class="n">checksum</span> <span class="o">=</span> <span class="n">checksum_calc</span><span class="o">.</span><span class="n">ret_checksum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">hex_checksum</span> <span class="o">=</span> <span class="nb">format</span><span class="p">(</span><span class="n">checksum</span><span class="p">,</span> <span class="s2">&quot;02X&quot;</span><span class="p">)</span>

        <span class="n">msg_return</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">*</span><span class="si">{</span><span class="n">hex_checksum</span><span class="si">}</span><span class="se">\r\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">msg_return</span></div></div>


<div class="viewcode-block" id="RobotXUAVSearchReportMessage"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXUAVSearchReportMessage">[docs]</a><span class="k">class</span> <span class="nc">RobotXUAVSearchReportMessage</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles formation of UAV search report message.</span>

<span class="sd">    .. warning::</span>

<span class="sd">        The following code pertains to the **2022 edition** of the AUVSI RobotX</span>
<span class="sd">        competition, held in Australia. Updates to the specifications may have changed</span>
<span class="sd">        since this competition, and therefore, the code may not accurately represent</span>
<span class="sd">        the specifications MIL must produce for the competition.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        message_id (str): The ID of the message to signal that it is related to the</span>
<span class="sd">            uav search report message.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span> <span class="o">=</span> <span class="s2">&quot;RXSAR&quot;</span>

<div class="viewcode-block" id="RobotXUAVSearchReportMessage.from_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXUAVSearchReportMessage.from_string">[docs]</a>    <span class="k">def</span> <span class="nf">from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delim</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a list of data values and a checksum list from a provided message.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter splitting up the data values.</span>
<span class="sd">            string (str): The message to get the data values from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[List[str], List[str]]: A tuple representing two values. The first</span>
<span class="sd">            is the list of data values encoded in the message. The second value</span>
<span class="sd">            is the checksum list encoded in the message.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">)</span>
        <span class="n">checksum_list</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;*&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_list</span><span class="p">,</span> <span class="n">checksum_list</span></div>

<div class="viewcode-block" id="RobotXUAVSearchReportMessage.to_string"><a class="viewcode-back" href="../../navigator/reference.html#navigator_robotx_comms.RobotXUAVSearchReportMessage.to_string">[docs]</a>    <span class="k">def</span> <span class="nf">to_string</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">delim</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">team_id</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">aedt_date_time</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">MessageUAVReplenishmentRequest</span><span class="p">,</span>
        <span class="n">use_test_data</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a message using the provided parameters. This message is formatted</span>
<span class="sd">        according to 2022 AUVSI specifications.</span>

<span class="sd">        Args:</span>
<span class="sd">            delim (str): The delimiter to use in between data values.</span>
<span class="sd">            team_id (Any): A value (??) that can be converted to a string to represent</span>
<span class="sd">                the MIL team ID.</span>
<span class="sd">            aedt_date_time (Any): A value (??) used to represent the current date + time</span>
<span class="sd">                in AEDT.</span>
<span class="sd">            data (MessageUAVReplenishmentRequest): The data about the WAV replenishment mission.</span>
<span class="sd">            use_test_data (bool): Whether to use test data in the message. If ``True``,</span>
<span class="sd">                then most of the other parameters are ignored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The encoded message.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">aedt_date_time</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">object1</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">object1_latitude</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">object1_n_s</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">object1_longitude</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">object1_e_w</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">object2</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">object2_latitude</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">object2_n_s</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">object2_longitude</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">object2_e_w</span><span class="p">),</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="n">team_id</span><span class="p">,</span>
            <span class="n">delim</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">uav_status</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># test data</span>
        <span class="k">if</span> <span class="n">use_test_data</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;RXSAR,111221,161229,R,21.31198,N,157.88972,W,N, 21.32198,N,157.89972,W,ROBOT,2&quot;</span>

        <span class="n">checksum_calc</span> <span class="o">=</span> <span class="n">BitwiseXORChecksum</span><span class="p">()</span>
        <span class="n">checksum</span> <span class="o">=</span> <span class="n">checksum_calc</span><span class="o">.</span><span class="n">ret_checksum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">hex_checksum</span> <span class="o">=</span> <span class="nb">format</span><span class="p">(</span><span class="n">checksum</span><span class="p">,</span> <span class="s2">&quot;02X&quot;</span><span class="p">)</span>

        <span class="n">msg_return</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">*</span><span class="si">{</span><span class="n">hex_checksum</span><span class="si">}</span><span class="se">\r\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">msg_return</span></div></div>
</pre></div>

            </main>
        </div>
    </body>
</html>