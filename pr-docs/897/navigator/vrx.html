<!DOCTYPE html>
<!-- Some pieces of this template were used from https://github.com/Rapptz/discord.py/blob/master/docs/_templates/layout.html -->
<html>
    <head>
        <!-- HTML meta -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale: 1.0">
        <title>VRX</title>
        <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
        <link rel="stylesheet" href="../_static/codeblocks.css" type="text/css" />
        <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
        <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../searchindex.js" defer></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/custom.js"></script>
        <script src="../_static/sidebar.js"></script>
        <script src="../_static/lightdarkmode.js"></script>
        <link rel="shortcut icon" href="../_static/mil_white.svg"/>
        <link rel="index" title="Index" href="../genindex.html" />
        <link rel="search" title="Search" href="../search.html" />
        <link rel="next" title="Software Reference" href="../reference/index.html" />
        <link rel="prev" title="LIDAR" href="lidar.html" />
    </head>
    <body>
        <div class="main-grid">
            <header class="grid-item">
                <nav>
                    <a class="main-heading" href="../index.html">Machine Intelligence Lab</a>
                    <div id="mil-light-dark-icon" onClick="rotateLightDark();">
                        <span class="material-icons" title=""></span>
                    </div>
                    <a href="https://github.com/uf-mil/mil" target="_blank"><img class="mil-svg" src="../_static/github.svg" /></a>
                    <a href="https://mil.ufl.edu" target="_blank"><img class="mil-svg" src="../_static/mil.svg" /></a>
                </nav>
            </header>
            <aside class="grid-item">
                <span id="hamburger-toggle">
                    <span class="material-icons">menu</span>
                </span>
                <div id="sidebar"><form id="search-form" role="search" class="search" action="../search.html" method="get">
    <div class="search-wrapper">
        <input type="search" name="q" placeholder="Search documentation" />
        <button type="submit" onmousedown="searchBarClick(event, document.getElementById('search-form'));">
            <span class="material-icons">search</span>
        </button>
    </div>
</form>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../welcome.html">Welcome to MIL!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mechanical/index.html">Mechanical</a></li>
<li class="toctree-l1"><a class="reference internal" href="../electrical/index.html">Electrical</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/index.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../subjugator/index.html">SubjuGator</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">NaviGator</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#procedures">Procedures</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#current-projects">Current Projects</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#past-projects">Past Projects</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">VRX (April 2022)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#verifying-that-the-vrx-environment-is-functional-playing-around-in-vrx">Verifying that the VRX Environment is Functional / Playing Around in VRX</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#launch-vrx">Launch VRX</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#run-rviz">Run RVIZ</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#give-a-move-command">Give a move command</a></li>
<li class="toctree-l5"><a class="reference internal" href="#see-the-current-odometry">See the current odometry</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#quick-testing">Quick testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preparing-submission">Preparing submission</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-download-and-replay-logs-from-phase-3-of-vrx-2019">How to Download and Replay logs from Phase 3 of VRX (2019)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#to-download-the-logs">To Download the Logs</a></li>
<li class="toctree-l5"><a class="reference internal" href="#to-play-a-log">To Play a Log</a></li>
<li class="toctree-l5"><a class="reference internal" href="#to-download-the-videos">To Download the Videos:</a></li>
<li class="toctree-l5"><a class="reference internal" href="#to-play-a-video">To Play a Video:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Software Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../subjugator/reference.html">Subjugator Software Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Navigator Software Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/design.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/index.html">Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../culture.html">Culture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../branding.html">Branding</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testingprocedures.html">Testing Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deprecated.html">Deprecated Projects</a></li>
</ul>

                </div>
            </aside>
            <main class="grid-item" role="main">
                
  <section id="vrx">
<h1>VRX<a class="headerlink" href="#vrx" title="Permalink to this heading">¶</a></h1>
<p>This page provides general info about developing for <a class="reference external" href="https://github.com/osrf/vrx">VRX</a>,
a simulated competition based on the real-life RobotX challenge.</p>
<p>MIL participates both in VRX and RobotX. Most code for this is hosted under <code class="docutils literal notranslate"><span class="pre">NaviGator/</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Please go through the <a class="reference external" href="../../software/getting_started.html">getting started guide</a> before going through this tutorial.</p>
</div>
<section id="verifying-that-the-vrx-environment-is-functional-playing-around-in-vrx">
<h2>Verifying that the VRX Environment is Functional / Playing Around in VRX<a class="headerlink" href="#verifying-that-the-vrx-environment-is-functional-playing-around-in-vrx" title="Permalink to this heading">¶</a></h2>
<section id="launch-vrx">
<h3>Launch VRX<a class="headerlink" href="#launch-vrx" title="Permalink to this heading">¶</a></h3>
<p>In one panel, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ roslaunch navigator_launch vrx.launch --screen
</pre></div>
</div>
<p>This will launch the NaviGator Code and the VRX code in the same container.</p>
<section id="run-rviz">
<h4>Run RVIZ<a class="headerlink" href="#run-rviz" title="Permalink to this heading">¶</a></h4>
<p>You can visualize things by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ vrxviz
</pre></div>
</div>
</section>
</section>
<section id="give-a-move-command">
<h3>Give a move command<a class="headerlink" href="#give-a-move-command" title="Permalink to this heading">¶</a></h3>
<p>Give NaviGator a move command with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ nmove forward 5m
</pre></div>
</div>
</section>
<section id="see-the-current-odometry">
<h3>See the current odometry<a class="headerlink" href="#see-the-current-odometry" title="Permalink to this heading">¶</a></h3>
<p>Try streaming the content of a rostopic:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ rostopic <span class="nb">echo</span> /odom
</pre></div>
</div>
</section>
</section>
<section id="quick-testing">
<h2>Quick testing<a class="headerlink" href="#quick-testing" title="Permalink to this heading">¶</a></h2>
<p>The official VRX system runs our code and the simulator in separated, isolated containers to prevent cheating.
However, for normal development in can be helpful to simply run both in the same container.
To do this, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ roslaunch navigator_launch vrx.launch run_task:<span class="o">=</span>True world:<span class="o">=</span>&lt;worldfile&gt; --screen
</pre></div>
</div>
<p>Where <cite>&lt;worldfile&gt;</cite> is the name of a world under <code class="docutils literal notranslate"><span class="pre">~/catkin_ws/src/mil/NaviGator/simulation/VRX/vrx/vrx_gazebo/worlds</span></code>.</p>
<p>For example, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ roslaunch navigator_launch vrx.launch run_task:<span class="o">=</span>True world:<span class="o">=</span>stationkeeping_task --screen
</pre></div>
</div>
<p>to test out the station keeping scenario.</p>
<p>If you wish to see a world with multiple challenges at once (e.g. for testing lidar), try <cite>example_course</cite>.</p>
<p>The <cite>run_task:=True</cite> flag tells the mission server to immediately run the VRX mission. Set this to <cite>False</cite> if you wish to manually start the mission.</p>
</section>
<section id="preparing-submission">
<h2>Preparing submission<a class="headerlink" href="#preparing-submission" title="Permalink to this heading">¶</a></h2>
<p>The recommended workflow for submitting our code to vrx is:</p>
<p>Run the dev container:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./scripts/run_development_container
</pre></div>
</div>
<ol class="arabic">
<li><p>Branch from the repo and edit whatever files you want to change with what ever text editor you want. Any changes you make to the files from your host machine will immediately show up in the container and when you re-run(for python changes)/ compile(for cpp changes) these changes will immediately take effect. Do the bulk of your development in this stage running mil and vrx code in the same container for fast turn around time in testing.</p></li>
<li><p>Once you are satisfied with running your code in the development container, you can move on to running your changes against the VRX server. This is how we will be evaluated by OSRF.</p></li>
<li><p>Make a Trial Container:</p>
<blockquote>
<div><blockquote>
<div><ol class="arabic simple">
<li><p>Commit and push your changes to a git hub repository on a branch. ie: <cite>my_branch</cite> at <cite>https://github.com/ME/mil.git</cite></p></li>
<li><p>Navigate to the root of the repo:</p></li>
</ol>
</div></blockquote>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mil
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>    $ ./scripts/build_vrx_trial_container my_branch https://github.com/ME/mil.git

If you pushed to the uf-mil github, run:
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>    $ ./scripts/build_vrx_trial_container my_branch

.. note::

Make sure when building your trial container, that the code actually compiles.
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
<p>Run your container with a terminal for sanity check. Make sure your container
actually does what you want when it starts up:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./scripts/run_vrx_trial_container my_branch
</pre></div>
</div>
<p>Now you should have a trial container! Follow the instructions at <cite>https://bitbucket.org/osrf/vrx-docker/src/default/</cite> to run this container against the vrx server.</p>
</section>
<section id="how-to-download-and-replay-logs-from-phase-3-of-vrx-2019">
<h2>How to Download and Replay logs from Phase 3 of VRX (2019)<a class="headerlink" href="#how-to-download-and-replay-logs-from-phase-3-of-vrx-2019" title="Permalink to this heading">¶</a></h2>
<section id="to-download-the-logs">
<h3>To Download the Logs<a class="headerlink" href="#to-download-the-logs" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./NaviGator/simulation/VRX/vrx_logs/2019/download_logs.bash
</pre></div>
</div>
</section>
<section id="to-play-a-log">
<h3>To Play a Log<a class="headerlink" href="#to-play-a-log" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./NaviGator/simulation/VRX/vrx_logs/play_log.bash &lt;year&gt; &lt;task&gt; &lt;run&gt;
</pre></div>
</div>
<p>i.e. to play the 2019 docking task run 0:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./NaviGator/simulation/VRX/vrx_logs/play_log.bash <span class="m">2019</span> dock <span class="m">0</span>
</pre></div>
</div>
</section>
<section id="to-download-the-videos">
<h3>To Download the Videos:<a class="headerlink" href="#to-download-the-videos" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./NaviGator/simulation/VRX/vrx_logs/2019/download_videos.bash
</pre></div>
</div>
</section>
<section id="to-play-a-video">
<h3>To Play a Video:<a class="headerlink" href="#to-play-a-video" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mplayer NaviGator/simulation/VRX/vrx_logs/2019/vrx_2019_videos/&lt;task&gt;&lt;run&gt;.mp4
</pre></div>
</div>
<p>i.e. to play the 2019 docking task run 1:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mplayer NaviGator/simulation/VRX/vrx_logs/2019/vrx_2019_videos/dock1.mp4
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Not all tasks and runs have a video. Navigate to
<cite>$MIL_REPO/NaviGator/simulation/VRX/vrx_logs/2019/vrx_2019_videos</cite> to see
the available videos.</p>
</div>
</section>
</section>
</section>


            </main>
        </div>
    </body>
</html>